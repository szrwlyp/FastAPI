2025-06-16 14:20:03.538 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:20:03.538 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 已断开连接
2025-06-16 14:20:03.539 | INFO     | myapp.routers.webSocket:websocket_endpoint:86 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:20:03.826 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:20:07.688 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:20:07.688 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 已断开连接
2025-06-16 14:20:07.688 | INFO     | myapp.routers.webSocket:websocket_endpoint:86 - 用户 lisi 的心跳任务已停止
2025-06-16 14:20:07.889 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:20:54.346 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:39 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'sdfads', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:23:36.235 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:23:36.251 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 已断开连接
2025-06-16 14:23:36.251 | INFO     | myapp.routers.webSocket:websocket_endpoint:86 - 用户 lisi 的心跳任务已停止
2025-06-16 14:23:36.251 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:23:36.252 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 已断开连接
2025-06-16 14:23:36.252 | INFO     | myapp.routers.webSocket:websocket_endpoint:86 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:23:39.247 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:23:40.129 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:23:40.732 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:23:40.732 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 已断开连接
2025-06-16 14:23:40.733 | INFO     | myapp.routers.webSocket:websocket_endpoint:87 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:23:41.060 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:23:48.058 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:40 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'adfd', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:26:37.569 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:26:37.571 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 已断开连接
2025-06-16 14:26:37.572 | INFO     | myapp.routers.webSocket:websocket_endpoint:87 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:26:37.572 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:26:37.572 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lisi 已断开连接
2025-06-16 14:26:37.572 | INFO     | myapp.routers.webSocket:websocket_endpoint:87 - 用户 lisi 的心跳任务已停止
2025-06-16 14:26:40.575 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:26:41.028 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:26:42.624 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:26:42.624 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lanyuping 已断开连接
2025-06-16 14:26:42.626 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:26:42.930 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:26:47.169 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'asdf', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:26:57.970 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:26:57.971 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lisi 已断开连接
2025-06-16 14:26:57.972 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lisi 的心跳任务已停止
2025-06-16 14:26:58.160 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:27:43.989 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:27:44.001 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:27:44.006 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lisi 已断开连接
2025-06-16 14:27:44.033 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lisi 的心跳任务已停止
2025-06-16 14:27:44.056 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:27:44.065 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:27:44.066 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lanyuping 已断开连接
2025-06-16 14:27:44.067 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:27:47.142 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:27:47.142 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lanyuping 已断开连接
2025-06-16 14:27:47.143 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:27:47.463 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:27:49.797 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:27:49.798 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lisi 已断开连接
2025-06-16 14:27:49.798 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lisi 的心跳任务已停止
2025-06-16 14:27:49.894 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:27:54.602 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'asdfsd', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:27:59.739 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'test', 'message_content': 'adsfdf', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 14:28:57.045 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:28:57.053 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lanyuping 已断开连接
2025-06-16 14:28:57.054 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:28:57.055 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:28:57.055 | INFO     | myapp.routers.webSocket:websocket_endpoint:73 - 用户 lisi 已断开连接
2025-06-16 14:28:57.056 | INFO     | myapp.routers.webSocket:websocket_endpoint:80 - 用户 lisi 的心跳任务已停止
2025-06-16 14:29:00.049 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:29:00.128 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:30:30.599 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:30:30.600 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 14:30:30.605 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 14:30:30.635 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:30:30.635 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:30:30.636 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:31:33.104 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:31:35.335 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:31:42.503 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:31:42.503 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 14:31:42.504 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 14:31:43.594 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:31:49.175 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'asdf阿斯顿发', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:32:39.256 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:32:39.256 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 14:32:39.257 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 14:33:25.793 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 14:33:28.913 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'test', 'message_content': '方法', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 14:33:37.751 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': '发发发', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:33:45.990 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 8787835234704319438 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 2d9b548b-8e14-4a32-b320-95780ce37f5b\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:T9Py\r\na=ice-pwd:5Fpuqbn803MarYmzFwKLXJ1V\r\na=ice-options:trickle\r\na=fingerprint:sha-256 CA:48:43:53:DE:BE:72:EF:3D:26:E5:76:2B:EA:DF:8F:80:B0:48:BB:96:D7:0A:2E:6B:99:F8:8F:8D:CA:99:CA\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:2d9b548b-8e14-4a32-b320-95780ce37f5b 37eca47b-a362-43f2-bb50-625b7872d4f8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2170336850 cname:nHoA1w2l6wo0g02o\r\na=ssrc:2170336850 msid:2d9b548b-8e14-4a32-b320-95780ce37f5b 37eca47b-a362-43f2-bb50-625b7872d4f8\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:T9Py\r\na=ice-pwd:5Fpuqbn803MarYmzFwKLXJ1V\r\na=ice-options:trickle\r\na=fingerprint:sha-256 CA:48:43:53:DE:BE:72:EF:3D:26:E5:76:2B:EA:DF:8F:80:B0:48:BB:96:D7:0A:2E:6B:99:F8:8F:8D:CA:99:CA\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:2d9b548b-8e14-4a32-b320-95780ce37f5b f588a691-e10e-4d96-bfc7-e76ecae35333\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 80187646 2241375591\r\na=ssrc:80187646 cname:nHoA1w2l6wo0g02o\r\na=ssrc:80187646 msid:2d9b548b-8e14-4a32-b320-95780ce37f5b f588a691-e10e-4d96-bfc7-e76ecae35333\r\na=ssrc:2241375591 cname:nHoA1w2l6wo0g02o\r\na=ssrc:2241375591 msid:2d9b548b-8e14-4a32-b320-95780ce37f5b f588a691-e10e-4d96-bfc7-e76ecae35333\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 14:33:45.995 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2016643158 1 udp 2113937151 192.168.1.205 35587 typ host generation 0 ufrag T9Py network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'T9Py'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 14:33:45.996 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2016643158 1 udp 2113937151 192.168.1.205 59251 typ host generation 0 ufrag T9Py network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'T9Py'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 14:33:49.871 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 5800510992948151359 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 968fe0a3-8ec4-476d-92a8-4d455bc8255d\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:0qJe\r\na=ice-pwd:FpFkJqkaSfKKvwQJgyiO6RMP\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1D:4F:04:FD:42:63:5F:8F:35:70:AF:BD:50:9A:6D:6E:2F:F7:43:3A:51:86:2E:41:CF:01:81:1D:61:6D:8C:A7\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:968fe0a3-8ec4-476d-92a8-4d455bc8255d 4554ae22-4a64-4210-b320-7de1c5897831\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:158212308 cname:dbEMvm9IMChkNEpZ\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:0qJe\r\na=ice-pwd:FpFkJqkaSfKKvwQJgyiO6RMP\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1D:4F:04:FD:42:63:5F:8F:35:70:AF:BD:50:9A:6D:6E:2F:F7:43:3A:51:86:2E:41:CF:01:81:1D:61:6D:8C:A7\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:968fe0a3-8ec4-476d-92a8-4d455bc8255d f1f348ee-4176-44e1-b772-c4f07ecb1610\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3880467402 1765010053\r\na=ssrc:3880467402 cname:dbEMvm9IMChkNEpZ\r\na=ssrc:1765010053 cname:dbEMvm9IMChkNEpZ\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:33:49.872 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2750459677 1 udp 2122260223 192.168.1.50 64230 typ host generation 0 ufrag 0qJe network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '0qJe'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:33:49.988 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1566210953 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 0qJe network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '0qJe'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 14:34:44.221 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 14:34:44.221 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 14:34:44.221 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 14:39:23.283 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:39:23.287 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:39:23.288 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:39:23.589 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 undefined 已连接
2025-06-16 14:39:26.795 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 undefined 已断开
2025-06-16 14:39:26.796 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 undefined 已断开连接
2025-06-16 14:39:26.796 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 undefined 的心跳任务已停止
2025-06-16 14:39:28.361 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:39:29.433 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:39:29.434 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:39:29.434 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:39:30.774 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:39:33.639 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:39:33.640 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:39:33.640 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:39:33.924 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 undefined 已连接
2025-06-16 14:39:34.850 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 undefined 已断开
2025-06-16 14:39:34.851 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 undefined 已断开连接
2025-06-16 14:39:34.851 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 undefined 的心跳任务已停止
2025-06-16 14:39:36.372 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:42:17.900 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:42:17.902 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:42:17.902 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:42:43.157 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:43:17.192 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:43:17.193 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:43:17.193 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:43:18.405 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 14:44:24.506 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 14:44:24.507 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 14:44:24.507 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 14:44:24.901 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:14:11.226 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:14:11.230 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:14:11.231 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:14:12.376 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:14:54.896 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:15:11.707 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:15:17.162 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 224453692654686396 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS fb385417-fbc1-4b62-8c54-2e8891f5ae79\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Vu6z\r\na=ice-pwd:2nDSSXG4kvCyz1V+EcWbZl5D\r\na=ice-options:trickle\r\na=fingerprint:sha-256 52:74:E6:06:79:CE:BE:BB:4D:C5:A9:FA:77:13:68:9A:EE:52:44:6C:AF:D0:8C:81:02:49:A8:C1:47:BE:9E:CE\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:fb385417-fbc1-4b62-8c54-2e8891f5ae79 f81a403b-bb36-4285-93b5-25dacc538239\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3727215435 cname:Qx6fKA8gGyvf7hr7\r\na=ssrc:3727215435 msid:fb385417-fbc1-4b62-8c54-2e8891f5ae79 f81a403b-bb36-4285-93b5-25dacc538239\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Vu6z\r\na=ice-pwd:2nDSSXG4kvCyz1V+EcWbZl5D\r\na=ice-options:trickle\r\na=fingerprint:sha-256 52:74:E6:06:79:CE:BE:BB:4D:C5:A9:FA:77:13:68:9A:EE:52:44:6C:AF:D0:8C:81:02:49:A8:C1:47:BE:9E:CE\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:fb385417-fbc1-4b62-8c54-2e8891f5ae79 46ba5277-6647-440f-b304-b4420a85b7f0\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1839491368 2871666899\r\na=ssrc:1839491368 cname:Qx6fKA8gGyvf7hr7\r\na=ssrc:1839491368 msid:fb385417-fbc1-4b62-8c54-2e8891f5ae79 46ba5277-6647-440f-b304-b4420a85b7f0\r\na=ssrc:2871666899 cname:Qx6fKA8gGyvf7hr7\r\na=ssrc:2871666899 msid:fb385417-fbc1-4b62-8c54-2e8891f5ae79 46ba5277-6647-440f-b304-b4420a85b7f0\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:15:17.164 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2974222326 1 udp 2113937151 192.168.1.205 59634 typ host generation 0 ufrag Vu6z network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Vu6z'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:15:17.165 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2974222326 1 udp 2113937151 192.168.1.205 46106 typ host generation 0 ufrag Vu6z network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Vu6z'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:15:18.319 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 6130958507390058360 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:hqDm\r\na=ice-pwd:4JdwTLwBQo/dpDBliBaR9vMN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5F:B0:0C:F4:B8:1B:50:41:AE:1B:4C:E6:CF:42:4E:28:50:F1:82:F4:8E:7C:5C:49:BA:2F:4D:BE:D0:33:6D:CA\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d b6f5367d-9950-417e-b666-f7ba52539c66\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:4199033762 cname:QZ7biOX0wksvgC3H\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:hqDm\r\na=ice-pwd:4JdwTLwBQo/dpDBliBaR9vMN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5F:B0:0C:F4:B8:1B:50:41:AE:1B:4C:E6:CF:42:4E:28:50:F1:82:F4:8E:7C:5C:49:BA:2F:4D:BE:D0:33:6D:CA\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d bc63f16d-29ea-4c99-a36f-9fc448c9b987\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1171873596 1305307266\r\na=ssrc:1171873596 cname:QZ7biOX0wksvgC3H\r\na=ssrc:1305307266 cname:QZ7biOX0wksvgC3H\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:15:18.323 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1708537134 1 udp 2122260223 192.168.1.50 57637 typ host generation 0 ufrag hqDm network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'hqDm'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:15:18.432 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:454678454 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag hqDm network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'hqDm'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:16:00.338 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 6511571085700601739 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS beb32a10-407b-4ae0-9cc7-b909ff45b6ca\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:bwsr\r\na=ice-pwd:OpSUYcK5nbz2enSySDKHbGFT\r\na=ice-options:trickle\r\na=fingerprint:sha-256 48:CA:E5:87:AD:C6:00:E8:B1:65:27:89:7D:28:9E:67:9F:F3:27:C1:F2:3E:94:06:4E:BB:49:D4:38:44:C9:F0\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:beb32a10-407b-4ae0-9cc7-b909ff45b6ca 98f54048-464f-4921-9e0f-36fa1ac60b88\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1631557386 cname:klWzhkJgk6cp1Sg4\r\na=ssrc:1631557386 msid:beb32a10-407b-4ae0-9cc7-b909ff45b6ca 98f54048-464f-4921-9e0f-36fa1ac60b88\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:bwsr\r\na=ice-pwd:OpSUYcK5nbz2enSySDKHbGFT\r\na=ice-options:trickle\r\na=fingerprint:sha-256 48:CA:E5:87:AD:C6:00:E8:B1:65:27:89:7D:28:9E:67:9F:F3:27:C1:F2:3E:94:06:4E:BB:49:D4:38:44:C9:F0\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:beb32a10-407b-4ae0-9cc7-b909ff45b6ca a70af5a6-885a-4ad3-aef8-0cf161d20b2a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3700675814 3913364890\r\na=ssrc:3700675814 cname:klWzhkJgk6cp1Sg4\r\na=ssrc:3700675814 msid:beb32a10-407b-4ae0-9cc7-b909ff45b6ca a70af5a6-885a-4ad3-aef8-0cf161d20b2a\r\na=ssrc:3913364890 cname:klWzhkJgk6cp1Sg4\r\na=ssrc:3913364890 msid:beb32a10-407b-4ae0-9cc7-b909ff45b6ca a70af5a6-885a-4ad3-aef8-0cf161d20b2a\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:16:00.340 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2486381628 1 udp 2113937151 192.168.1.205 36050 typ host generation 0 ufrag bwsr network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'bwsr'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:16:00.340 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2486381628 1 udp 2113937151 192.168.1.205 59463 typ host generation 0 ufrag bwsr network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'bwsr'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:16:00.629 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 1271536197622157029 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:iQJD\r\na=ice-pwd:q6F2XWzjZ33F/ZvNwpwJlYZN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 08:15:EB:25:50:F6:E2:C4:D3:F4:BA:9B:3F:6F:F3:C3:9F:DF:6F:60:F1:C8:34:9A:14:66:78:AB:23:50:F2:D5\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d b6f5367d-9950-417e-b666-f7ba52539c66\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:486520038 cname:1FVLO63JW5FRDhkG\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:iQJD\r\na=ice-pwd:q6F2XWzjZ33F/ZvNwpwJlYZN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 08:15:EB:25:50:F6:E2:C4:D3:F4:BA:9B:3F:6F:F3:C3:9F:DF:6F:60:F1:C8:34:9A:14:66:78:AB:23:50:F2:D5\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:41ca76f0-5b0f-437d-ab2d-8b1c3dc8b70d bc63f16d-29ea-4c99-a36f-9fc448c9b987\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1037163701 4039013856\r\na=ssrc:1037163701 cname:1FVLO63JW5FRDhkG\r\na=ssrc:4039013856 cname:1FVLO63JW5FRDhkG\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:16:00.631 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3908655148 1 udp 2122260223 192.168.1.50 57007 typ host generation 0 ufrag iQJD network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'iQJD'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:16:57.213 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:16:57.226 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:16:57.230 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:16:58.631 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:17:00.427 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:17:00.428 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:17:00.430 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:17:01.173 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:17:01.174 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:17:01.175 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:17:02.612 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:17:02.824 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:17:02.824 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:17:02.825 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:17:05.820 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:17:07.056 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:17:19.319 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3477454519629817667 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS d25684c0-10e3-412e-81b4-dea1a9f2714d\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6MKB\r\na=ice-pwd:VIKLTG8q97jt/IwLURCIIlsG\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:DD:E4:FE:9B:62:5F:07:68:4F:0D:06:26:CA:9B:8B:CE:09:7D:45:9A:E6:F7:59:3F:08:2A:73:C2:51:D3:26\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:d25684c0-10e3-412e-81b4-dea1a9f2714d f5aaa8c6-b624-4628-8bd2-9652e0a853b8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2019022091 cname:Xz/Qq+dpCUpZ4Mke\r\na=ssrc:2019022091 msid:d25684c0-10e3-412e-81b4-dea1a9f2714d f5aaa8c6-b624-4628-8bd2-9652e0a853b8\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6MKB\r\na=ice-pwd:VIKLTG8q97jt/IwLURCIIlsG\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:DD:E4:FE:9B:62:5F:07:68:4F:0D:06:26:CA:9B:8B:CE:09:7D:45:9A:E6:F7:59:3F:08:2A:73:C2:51:D3:26\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:d25684c0-10e3-412e-81b4-dea1a9f2714d 375818a0-c82b-4d5d-ac21-ec940b1510f4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3751304162 3159577229\r\na=ssrc:3751304162 cname:Xz/Qq+dpCUpZ4Mke\r\na=ssrc:3751304162 msid:d25684c0-10e3-412e-81b4-dea1a9f2714d 375818a0-c82b-4d5d-ac21-ec940b1510f4\r\na=ssrc:3159577229 cname:Xz/Qq+dpCUpZ4Mke\r\na=ssrc:3159577229 msid:d25684c0-10e3-412e-81b4-dea1a9f2714d 375818a0-c82b-4d5d-ac21-ec940b1510f4\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:17:19.321 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:249760430 1 udp 2113937151 192.168.1.205 55233 typ host generation 0 ufrag 6MKB network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '6MKB'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:17:19.321 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:249760430 1 udp 2113937151 192.168.1.205 60778 typ host generation 0 ufrag 6MKB network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '6MKB'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:17:20.093 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3549371959949051279 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 6d813ca1-356f-48e2-8cb6-fd8ba283e623\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:nlfY\r\na=ice-pwd:EdMdcSZFdsM0wYv/0CtHaYP0\r\na=ice-options:trickle\r\na=fingerprint:sha-256 69:7F:37:15:F7:E4:F0:2D:CE:BC:EF:A0:12:5B:CE:C9:FD:EF:B9:B0:A0:A8:F2:E6:86:82:DA:81:64:FA:F3:6D\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:6d813ca1-356f-48e2-8cb6-fd8ba283e623 8e07f914-b323-4632-8b86-d6976f2f7f94\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:665812716 cname:fgu4rafPd7XgoSlQ\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:nlfY\r\na=ice-pwd:EdMdcSZFdsM0wYv/0CtHaYP0\r\na=ice-options:trickle\r\na=fingerprint:sha-256 69:7F:37:15:F7:E4:F0:2D:CE:BC:EF:A0:12:5B:CE:C9:FD:EF:B9:B0:A0:A8:F2:E6:86:82:DA:81:64:FA:F3:6D\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:6d813ca1-356f-48e2-8cb6-fd8ba283e623 face4748-316b-48df-8e5a-9706d1f6bf07\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 29914262 2084081846\r\na=ssrc:29914262 cname:fgu4rafPd7XgoSlQ\r\na=ssrc:2084081846 cname:fgu4rafPd7XgoSlQ\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:17:20.100 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1249632099 1 udp 2122260223 192.168.1.50 62183 typ host generation 0 ufrag nlfY network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'nlfY'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:17:20.213 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:884227579 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag nlfY network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'nlfY'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:19:31.140 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:19:31.144 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:19:31.144 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:19:32.791 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:19:33.490 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:19:33.490 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:19:33.492 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:19:33.991 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:19:34.412 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:19:34.413 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:19:34.413 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:19:35.488 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:23:18.459 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:23:18.463 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:23:18.463 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:29:58.396 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:29:58.424 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:29:58.425 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:30:00.035 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:30:02.199 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:30:02.199 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:30:02.199 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:30:03.239 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:30:32.693 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:30:32.695 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:30:32.695 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:30:34.017 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:30:36.445 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:30:36.446 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:30:36.446 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:30:38.896 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:30:47.452 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:30:50.828 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5384724567385197425 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 84652e58-ecd8-49cf-bc69-c454b2f3fcc1\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:/Ypz\r\na=ice-pwd:ztin/XB2YogjXcrPFv4lyh1Y\r\na=ice-options:trickle\r\na=fingerprint:sha-256 0F:24:6D:00:A4:C9:01:B4:97:31:FD:77:42:E6:54:61:0B:C9:5D:D6:53:7F:7C:68:50:9E:28:CA:91:86:CF:B8\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:84652e58-ecd8-49cf-bc69-c454b2f3fcc1 df934960-a83e-4541-a6a8-9450aef033b7\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1533829168 cname:hkUn2uFkB8sj7jAb\r\na=ssrc:1533829168 msid:84652e58-ecd8-49cf-bc69-c454b2f3fcc1 df934960-a83e-4541-a6a8-9450aef033b7\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:/Ypz\r\na=ice-pwd:ztin/XB2YogjXcrPFv4lyh1Y\r\na=ice-options:trickle\r\na=fingerprint:sha-256 0F:24:6D:00:A4:C9:01:B4:97:31:FD:77:42:E6:54:61:0B:C9:5D:D6:53:7F:7C:68:50:9E:28:CA:91:86:CF:B8\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:84652e58-ecd8-49cf-bc69-c454b2f3fcc1 7fdc8289-ef6b-4a1f-8906-4b2c048c6825\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3490018341 291189670\r\na=ssrc:3490018341 cname:hkUn2uFkB8sj7jAb\r\na=ssrc:3490018341 msid:84652e58-ecd8-49cf-bc69-c454b2f3fcc1 7fdc8289-ef6b-4a1f-8906-4b2c048c6825\r\na=ssrc:291189670 cname:hkUn2uFkB8sj7jAb\r\na=ssrc:291189670 msid:84652e58-ecd8-49cf-bc69-c454b2f3fcc1 7fdc8289-ef6b-4a1f-8906-4b2c048c6825\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:30:50.873 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1230494387 1 udp 2113937151 192.168.1.205 48645 typ host generation 0 ufrag /Ypz network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '/Ypz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:30:50.873 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1230494387 1 udp 2113937151 192.168.1.205 58105 typ host generation 0 ufrag /Ypz network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '/Ypz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:30:51.704 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 673672852734290256 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 3ec3ab7c-ef6c-42a1-8ccf-5b255171dec4\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:IHeD\r\na=ice-pwd:O6lmrOFh0VUtxYaI3YCxu3Ly\r\na=ice-options:trickle\r\na=fingerprint:sha-256 2E:B1:85:9F:76:51:03:F7:39:79:D0:0A:BF:91:8A:21:33:7B:71:4C:C4:2C:0B:37:0D:69:A0:11:01:38:CE:9B\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:3ec3ab7c-ef6c-42a1-8ccf-5b255171dec4 e892c74b-f887-49bf-b629-ad3a8edc7f13\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2402104565 cname:85FJqbW7gmPfQ66E\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:IHeD\r\na=ice-pwd:O6lmrOFh0VUtxYaI3YCxu3Ly\r\na=ice-options:trickle\r\na=fingerprint:sha-256 2E:B1:85:9F:76:51:03:F7:39:79:D0:0A:BF:91:8A:21:33:7B:71:4C:C4:2C:0B:37:0D:69:A0:11:01:38:CE:9B\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:3ec3ab7c-ef6c-42a1-8ccf-5b255171dec4 5e5a63e7-e31e-42e7-a1cb-2d0b17516eb4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2081956222 147553893\r\na=ssrc:2081956222 cname:85FJqbW7gmPfQ66E\r\na=ssrc:147553893 cname:85FJqbW7gmPfQ66E\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:30:51.704 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3049281609 1 udp 2122260223 192.168.1.50 62642 typ host generation 0 ufrag IHeD network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'IHeD'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:30:51.825 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3406805713 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag IHeD network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'IHeD'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:31:26.371 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:31:26.373 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:31:26.373 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:31:30.170 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:31:30.171 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:31:30.171 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:31:31.242 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:31:32.368 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:31:36.383 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3221635605362844663 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 38788f18-bfac-42bd-9bff-e2d698bbfda4\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VKp7\r\na=ice-pwd:/CPkbjo9XojVVJw7UeoPmxos\r\na=ice-options:trickle\r\na=fingerprint:sha-256 82:3E:CF:E7:B7:44:30:87:F2:16:E6:53:9F:18:06:59:CD:DD:FF:69:00:8F:EB:8E:E1:27:D4:62:05:7F:F4:D8\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:38788f18-bfac-42bd-9bff-e2d698bbfda4 fa74cd5c-17dc-4dfa-a853-148728804939\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:422139719 cname:cqjlk8floXSyRBOX\r\na=ssrc:422139719 msid:38788f18-bfac-42bd-9bff-e2d698bbfda4 fa74cd5c-17dc-4dfa-a853-148728804939\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VKp7\r\na=ice-pwd:/CPkbjo9XojVVJw7UeoPmxos\r\na=ice-options:trickle\r\na=fingerprint:sha-256 82:3E:CF:E7:B7:44:30:87:F2:16:E6:53:9F:18:06:59:CD:DD:FF:69:00:8F:EB:8E:E1:27:D4:62:05:7F:F4:D8\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:38788f18-bfac-42bd-9bff-e2d698bbfda4 2f5d5b37-78fc-47e6-a69f-1c51c4c0816d\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4196848454 1417222123\r\na=ssrc:4196848454 cname:cqjlk8floXSyRBOX\r\na=ssrc:4196848454 msid:38788f18-bfac-42bd-9bff-e2d698bbfda4 2f5d5b37-78fc-47e6-a69f-1c51c4c0816d\r\na=ssrc:1417222123 cname:cqjlk8floXSyRBOX\r\na=ssrc:1417222123 msid:38788f18-bfac-42bd-9bff-e2d698bbfda4 2f5d5b37-78fc-47e6-a69f-1c51c4c0816d\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:31:36.385 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1007628875 1 udp 2113937151 192.168.1.205 45604 typ host generation 0 ufrag VKp7 network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'VKp7'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:31:36.386 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1007628875 1 udp 2113937151 192.168.1.205 41106 typ host generation 0 ufrag VKp7 network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'VKp7'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:31:37.199 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 2050816163996815259 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 043db669-a8c8-415b-92b7-8dfba3f74036\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:OgC1\r\na=ice-pwd:Jm/dm5t2OB30l3gc2Ne1/DKD\r\na=ice-options:trickle\r\na=fingerprint:sha-256 72:78:69:FF:91:F2:91:C8:6E:68:59:32:95:63:87:F7:6C:75:53:00:39:B1:3B:D2:48:F9:BC:06:7B:43:33:1B\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:043db669-a8c8-415b-92b7-8dfba3f74036 3b8e26d6-17d6-4a7b-99da-a95531bf2d23\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3999339095 cname:mukiOC4F4uZkGS+i\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:OgC1\r\na=ice-pwd:Jm/dm5t2OB30l3gc2Ne1/DKD\r\na=ice-options:trickle\r\na=fingerprint:sha-256 72:78:69:FF:91:F2:91:C8:6E:68:59:32:95:63:87:F7:6C:75:53:00:39:B1:3B:D2:48:F9:BC:06:7B:43:33:1B\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:043db669-a8c8-415b-92b7-8dfba3f74036 9e4e8d4b-b96e-4fb9-99fe-1e0dec8ac981\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4232286950 3493815500\r\na=ssrc:4232286950 cname:mukiOC4F4uZkGS+i\r\na=ssrc:3493815500 cname:mukiOC4F4uZkGS+i\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:31:37.209 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:731249535 1 udp 2122260223 192.168.1.50 58795 typ host generation 0 ufrag OgC1 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'OgC1'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:31:37.326 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3577688043 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag OgC1 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'OgC1'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:02.624 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:39:02.628 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:39:02.628 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:39:03.800 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:39:05.121 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:39:05.123 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:39:05.123 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:39:05.788 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:39:05.788 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:39:05.789 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:39:06.297 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:39:06.930 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:39:08.786 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:39:08.789 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:39:08.789 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:39:09.918 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:39:11.271 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:39:11.271 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:39:11.271 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:39:11.467 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:39:11.467 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:39:11.468 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:39:12.107 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:39:12.569 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:39:16.821 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:39:16.822 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:39:16.822 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:39:19.697 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:39:19.698 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:39:19.698 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:39:21.691 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:39:23.962 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:39:31.581 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4714558923060351113 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS b4f312dd-35fb-4716-8713-616f1a09675b\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Q5pB\r\na=ice-pwd:FGrX5d5rgkM6sP0ZvB2yvD+c\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B8:C9:3C:73:B1:12:41:EE:02:02:BB:6F:DC:82:21:6E:58:DD:F6:08:E8:BF:11:95:29:CC:04:E6:27:8C:0E:23\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:b4f312dd-35fb-4716-8713-616f1a09675b d190fa1c-e8a1-42ff-a33b-1090b1f049cc\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:48274317 cname:C6xYbaQPzhUtxCf0\r\na=ssrc:48274317 msid:b4f312dd-35fb-4716-8713-616f1a09675b d190fa1c-e8a1-42ff-a33b-1090b1f049cc\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Q5pB\r\na=ice-pwd:FGrX5d5rgkM6sP0ZvB2yvD+c\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B8:C9:3C:73:B1:12:41:EE:02:02:BB:6F:DC:82:21:6E:58:DD:F6:08:E8:BF:11:95:29:CC:04:E6:27:8C:0E:23\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:b4f312dd-35fb-4716-8713-616f1a09675b 288b0a8a-fc9c-4837-82a9-0b0b9a66d942\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2915152413 526175467\r\na=ssrc:2915152413 cname:C6xYbaQPzhUtxCf0\r\na=ssrc:2915152413 msid:b4f312dd-35fb-4716-8713-616f1a09675b 288b0a8a-fc9c-4837-82a9-0b0b9a66d942\r\na=ssrc:526175467 cname:C6xYbaQPzhUtxCf0\r\na=ssrc:526175467 msid:b4f312dd-35fb-4716-8713-616f1a09675b 288b0a8a-fc9c-4837-82a9-0b0b9a66d942\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:31.583 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1938367745 1 udp 2122260223 192.168.1.50 62770 typ host generation 0 ufrag Q5pB network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Q5pB'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:31.585 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1938367745 1 udp 2122260223 192.168.1.50 61125 typ host generation 0 ufrag Q5pB network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Q5pB'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:31.700 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2367943061 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Q5pB network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Q5pB'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:31.702 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2367943061 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Q5pB network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Q5pB'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:39:32.724 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 4503927527730991172 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 78154568-9e49-4e9d-952d-014c64b44dcb\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:iOzB\r\na=ice-pwd:2/KlXi8lkvs0EEwJLhT45OWl\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F8:1A:EA:05:40:55:BB:3D:CD:6E:16:66:D0:2E:10:F2:F3:D8:AB:50:45:9B:F1:30:F7:F7:48:92:09:DD:2B:70\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:78154568-9e49-4e9d-952d-014c64b44dcb bc5595b9-251d-40e3-928f-7cece9c38dca\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1827742702 cname:OOEZQiPoJiy+4Dzf\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:iOzB\r\na=ice-pwd:2/KlXi8lkvs0EEwJLhT45OWl\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F8:1A:EA:05:40:55:BB:3D:CD:6E:16:66:D0:2E:10:F2:F3:D8:AB:50:45:9B:F1:30:F7:F7:48:92:09:DD:2B:70\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:78154568-9e49-4e9d-952d-014c64b44dcb 6f00909f-2e65-4d1c-a3ec-960237fe5c74\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3656020597 1989597368\r\na=ssrc:3656020597 cname:OOEZQiPoJiy+4Dzf\r\na=ssrc:1989597368 cname:OOEZQiPoJiy+4Dzf\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:39:32.725 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4162235879 1 udp 2113937151 192.168.1.205 33006 typ host generation 0 ufrag iOzB network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'iOzB'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:41:09.931 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:41:09.933 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:41:09.933 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:41:10.511 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:41:11.836 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:41:11.837 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:41:11.838 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:41:12.858 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:41:12.858 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:41:12.859 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:41:12.951 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:41:13.910 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:42:23.661 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:42:23.664 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:42:23.664 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:42:28.954 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:42:29.246 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:18964282 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag e6IT network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'e6IT'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:42:29.248 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:18964282 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag e6IT network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'e6IT'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:43:26.032 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:43:26.034 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:43:26.034 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:43:30.334 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:43:55.582 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:43:55.582 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:43:55.583 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:46:20.414 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:46:20.416 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:46:20.417 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:46:27.569 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:46:34.872 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 9003636035416254323 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 819df79f-4545-4575-be56-de1aee703d71\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1Tj8\r\na=ice-pwd:gy1cQG9jkHWm04+30n2VuzpR\r\na=ice-options:trickle\r\na=fingerprint:sha-256 38:C0:DE:36:63:0A:E4:1F:70:04:5F:93:6C:67:5D:6A:77:25:4E:3C:4E:9D:06:43:96:8F:16:F0:D0:9D:08:FD\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:819df79f-4545-4575-be56-de1aee703d71 2921fba8-75c0-4590-9146-64019fb4fac8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2256037584 cname:VCPYyv5DmoV3W4FT\r\na=ssrc:2256037584 msid:819df79f-4545-4575-be56-de1aee703d71 2921fba8-75c0-4590-9146-64019fb4fac8\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1Tj8\r\na=ice-pwd:gy1cQG9jkHWm04+30n2VuzpR\r\na=ice-options:trickle\r\na=fingerprint:sha-256 38:C0:DE:36:63:0A:E4:1F:70:04:5F:93:6C:67:5D:6A:77:25:4E:3C:4E:9D:06:43:96:8F:16:F0:D0:9D:08:FD\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:819df79f-4545-4575-be56-de1aee703d71 fa46e248-cfc9-41cf-bc09-5237842f2607\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2953861456 3389138713\r\na=ssrc:2953861456 cname:VCPYyv5DmoV3W4FT\r\na=ssrc:2953861456 msid:819df79f-4545-4575-be56-de1aee703d71 fa46e248-cfc9-41cf-bc09-5237842f2607\r\na=ssrc:3389138713 cname:VCPYyv5DmoV3W4FT\r\na=ssrc:3389138713 msid:819df79f-4545-4575-be56-de1aee703d71 fa46e248-cfc9-41cf-bc09-5237842f2607\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:34.877 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:34.975 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4109357523 1 udp 2122260223 192.168.1.50 61550 typ host generation 0 ufrag 1Tj8 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '1Tj8'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:34.976 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:34.977 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4109357523 1 udp 2122260223 192.168.1.50 52565 typ host generation 0 ufrag 1Tj8 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '1Tj8'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:34.977 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:34.997 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2317366091 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 1Tj8 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '1Tj8'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:34.998 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:35.010 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2317366091 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 1Tj8 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '1Tj8'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:35.010 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:44.272 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:46:44.273 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:46:44.273 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:46:48.324 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:46:53.382 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 6088168777303066690 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 65648454-5d79-446c-a391-c32fc89bee82\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VaOV\r\na=ice-pwd:uPzudOrpx3z+BNJQhEm0Dk6E\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5D:11:97:DD:05:A8:1A:E9:15:F7:B5:44:0B:28:7F:2A:CE:5A:6F:11:32:3B:E3:92:15:29:12:54:F9:4A:1D:E6\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:65648454-5d79-446c-a391-c32fc89bee82 5e0587b4-28c4-4c2e-a380-1fe0d7c3acfc\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2982360415 cname:Ru6TYo3qoewksJS8\r\na=ssrc:2982360415 msid:65648454-5d79-446c-a391-c32fc89bee82 5e0587b4-28c4-4c2e-a380-1fe0d7c3acfc\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VaOV\r\na=ice-pwd:uPzudOrpx3z+BNJQhEm0Dk6E\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5D:11:97:DD:05:A8:1A:E9:15:F7:B5:44:0B:28:7F:2A:CE:5A:6F:11:32:3B:E3:92:15:29:12:54:F9:4A:1D:E6\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:65648454-5d79-446c-a391-c32fc89bee82 c39caa9d-63f9-43c4-8f07-069552ac3d2f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 4241782349 3347432132\r\na=ssrc:4241782349 cname:Ru6TYo3qoewksJS8\r\na=ssrc:4241782349 msid:65648454-5d79-446c-a391-c32fc89bee82 c39caa9d-63f9-43c4-8f07-069552ac3d2f\r\na=ssrc:3347432132 cname:Ru6TYo3qoewksJS8\r\na=ssrc:3347432132 msid:65648454-5d79-446c-a391-c32fc89bee82 c39caa9d-63f9-43c4-8f07-069552ac3d2f\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:53.382 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:53.383 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1893805466 1 udp 2122260223 192.168.1.50 54587 typ host generation 0 ufrag VaOV network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'VaOV'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:53.383 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:53.383 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1893805466 1 udp 2122260223 192.168.1.50 55654 typ host generation 0 ufrag VaOV network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'VaOV'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:53.384 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:53.508 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2387343630 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag VaOV network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'VaOV'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:53.508 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:46:53.510 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2387343630 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag VaOV network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'VaOV'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:46:53.510 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 15:47:56.109 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:47:56.110 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:47:56.110 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:47:57.257 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:47:57.309 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:47:57.309 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:47:57.310 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:47:58.770 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:51:27.926 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:51:27.927 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:51:27.927 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:51:27.927 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:51:27.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:51:27.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:51:34.251 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:51:35.511 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:52:17.123 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:52:17.125 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:52:17.125 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:52:23.354 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:52:24.054 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:52:28.193 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1880411220158780228 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 4d18661d-d16a-4008-91aa-b0c16016eaa5\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:D3gG\r\na=ice-pwd:Ydm/LCQUumaxx+QPiUKidHLp\r\na=ice-options:trickle\r\na=fingerprint:sha-256 88:6F:5D:39:2C:B1:08:12:74:FE:A5:FF:3F:E5:9E:37:D3:B9:83:A5:F6:B9:4F:0A:01:4F:C5:4B:E8:EC:71:04\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:4d18661d-d16a-4008-91aa-b0c16016eaa5 31f47c68-21ae-4f31-a938-4db32f21cc9a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3535108449 cname:uV/aRaSL7rAB/KAy\r\na=ssrc:3535108449 msid:4d18661d-d16a-4008-91aa-b0c16016eaa5 31f47c68-21ae-4f31-a938-4db32f21cc9a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:D3gG\r\na=ice-pwd:Ydm/LCQUumaxx+QPiUKidHLp\r\na=ice-options:trickle\r\na=fingerprint:sha-256 88:6F:5D:39:2C:B1:08:12:74:FE:A5:FF:3F:E5:9E:37:D3:B9:83:A5:F6:B9:4F:0A:01:4F:C5:4B:E8:EC:71:04\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:4d18661d-d16a-4008-91aa-b0c16016eaa5 7d074f5e-caeb-45cd-8e7c-a1f368a4d6f7\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 610090878 3529599678\r\na=ssrc:610090878 cname:uV/aRaSL7rAB/KAy\r\na=ssrc:610090878 msid:4d18661d-d16a-4008-91aa-b0c16016eaa5 7d074f5e-caeb-45cd-8e7c-a1f368a4d6f7\r\na=ssrc:3529599678 cname:uV/aRaSL7rAB/KAy\r\na=ssrc:3529599678 msid:4d18661d-d16a-4008-91aa-b0c16016eaa5 7d074f5e-caeb-45cd-8e7c-a1f368a4d6f7\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:52:28.195 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:929858056 1 udp 2122260223 192.168.1.50 56809 typ host generation 0 ufrag D3gG network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'D3gG'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:52:28.196 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:929858056 1 udp 2122260223 192.168.1.50 61937 typ host generation 0 ufrag D3gG network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'D3gG'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:52:28.319 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1240639237 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag D3gG network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'D3gG'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:52:28.321 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1240639237 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag D3gG network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'D3gG'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:52:31.143 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 4166903518034060307 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 42bfabf2-f241-41d3-b580-be77b8361cfb\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:NsK8\r\na=ice-pwd:N0kbq1hV5XnLV0Jxhb+HEkA9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1E:9A:89:E5:97:97:C0:33:5F:C5:7D:39:29:8B:25:3C:97:C3:6D:98:FD:CE:C2:89:9E:7C:C3:C6:71:FC:42:A2\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:42bfabf2-f241-41d3-b580-be77b8361cfb 611e02eb-807d-4cb6-88bf-77e8b5aa697b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3829710771 cname:zCnYxv/ePxDAWtbH\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:NsK8\r\na=ice-pwd:N0kbq1hV5XnLV0Jxhb+HEkA9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1E:9A:89:E5:97:97:C0:33:5F:C5:7D:39:29:8B:25:3C:97:C3:6D:98:FD:CE:C2:89:9E:7C:C3:C6:71:FC:42:A2\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:42bfabf2-f241-41d3-b580-be77b8361cfb 422cc0f9-8b38-45ea-b816-c71267fd5fc1\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 203806450 262111269\r\na=ssrc:203806450 cname:zCnYxv/ePxDAWtbH\r\na=ssrc:262111269 cname:zCnYxv/ePxDAWtbH\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:52:31.144 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1924437900 1 udp 2113937151 192.168.1.205 44680 typ host generation 0 ufrag NsK8 network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'NsK8'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:53:22.483 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 7200210599701045453 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS e670cadc-4227-4b58-8043-6e47a99fc84e\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:UXjM\r\na=ice-pwd:3rYLyX5WrpnJlHVwPSiCz5qe\r\na=ice-options:trickle\r\na=fingerprint:sha-256 2C:D7:88:2D:30:A5:0F:B4:FB:02:82:C9:E7:51:8A:E7:20:95:23:08:8D:DF:E7:9E:BE:17:E9:BC:E5:1F:0C:2B\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:e670cadc-4227-4b58-8043-6e47a99fc84e acdcce12-3962-48c0-aa1e-09662a2e2627\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:10492344 cname:HoQ/6UTFVaPGYa6F\r\na=ssrc:10492344 msid:e670cadc-4227-4b58-8043-6e47a99fc84e acdcce12-3962-48c0-aa1e-09662a2e2627\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:UXjM\r\na=ice-pwd:3rYLyX5WrpnJlHVwPSiCz5qe\r\na=ice-options:trickle\r\na=fingerprint:sha-256 2C:D7:88:2D:30:A5:0F:B4:FB:02:82:C9:E7:51:8A:E7:20:95:23:08:8D:DF:E7:9E:BE:17:E9:BC:E5:1F:0C:2B\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:e670cadc-4227-4b58-8043-6e47a99fc84e f8e3e3fb-2d7d-43c2-bdfb-7b63100d89aa\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 672877473 1251348476\r\na=ssrc:672877473 cname:HoQ/6UTFVaPGYa6F\r\na=ssrc:672877473 msid:e670cadc-4227-4b58-8043-6e47a99fc84e f8e3e3fb-2d7d-43c2-bdfb-7b63100d89aa\r\na=ssrc:1251348476 cname:HoQ/6UTFVaPGYa6F\r\na=ssrc:1251348476 msid:e670cadc-4227-4b58-8043-6e47a99fc84e f8e3e3fb-2d7d-43c2-bdfb-7b63100d89aa\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:53:22.483 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1115535699 1 udp 2113937151 192.168.1.205 45356 typ host generation 0 ufrag UXjM network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'UXjM'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:53:22.483 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1115535699 1 udp 2113937151 192.168.1.205 56406 typ host generation 0 ufrag UXjM network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'UXjM'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:53:23.340 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3513716516798551213 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 56b8f107-c831-4059-909e-785f7f04ecbf\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:gxy0\r\na=ice-pwd:Gi/+YwlZELNYGvAgbBDw0x0+\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B3:B9:71:D0:F0:4A:FF:41:FE:EF:BD:9C:30:57:9B:A2:0D:DB:85:0C:BB:07:85:99:DC:B0:B2:DF:AE:4D:6C:C2\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:56b8f107-c831-4059-909e-785f7f04ecbf 48006187-c68a-4896-88a0-f1d18263d009\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1658718917 cname:MkWjDANTB+nGi4Kr\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:gxy0\r\na=ice-pwd:Gi/+YwlZELNYGvAgbBDw0x0+\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B3:B9:71:D0:F0:4A:FF:41:FE:EF:BD:9C:30:57:9B:A2:0D:DB:85:0C:BB:07:85:99:DC:B0:B2:DF:AE:4D:6C:C2\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:56b8f107-c831-4059-909e-785f7f04ecbf 162dc069-eced-4bcc-9634-26f5d93feb4b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1239087232 2018133585\r\na=ssrc:1239087232 cname:MkWjDANTB+nGi4Kr\r\na=ssrc:2018133585 cname:MkWjDANTB+nGi4Kr\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:23.340 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3943697327 1 udp 2122260223 192.168.1.50 55822 typ host generation 0 ufrag gxy0 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'gxy0'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:23.453 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2509123234 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag gxy0 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'gxy0'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:43.841 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2241165901524390455 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 9a6a3fa4-9852-4271-8886-cd8d3436d79e\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wpTc\r\na=ice-pwd:1N/90709j43fwZBIPnKxx8Sf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 92:71:29:27:3D:82:C8:EB:13:FB:43:81:90:89:BA:48:7E:24:6D:F7:7A:B3:18:18:AF:40:51:27:E0:E8:06:34\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:9a6a3fa4-9852-4271-8886-cd8d3436d79e be21bc7c-0650-43a4-8938-d08eaae5dd2b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1846668359 cname:L76ef15cO+m5YgWs\r\na=ssrc:1846668359 msid:9a6a3fa4-9852-4271-8886-cd8d3436d79e be21bc7c-0650-43a4-8938-d08eaae5dd2b\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wpTc\r\na=ice-pwd:1N/90709j43fwZBIPnKxx8Sf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 92:71:29:27:3D:82:C8:EB:13:FB:43:81:90:89:BA:48:7E:24:6D:F7:7A:B3:18:18:AF:40:51:27:E0:E8:06:34\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:9a6a3fa4-9852-4271-8886-cd8d3436d79e 063163f2-2773-457d-8c85-01a8a258a773\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 335849537 3289566765\r\na=ssrc:335849537 cname:L76ef15cO+m5YgWs\r\na=ssrc:335849537 msid:9a6a3fa4-9852-4271-8886-cd8d3436d79e 063163f2-2773-457d-8c85-01a8a258a773\r\na=ssrc:3289566765 cname:L76ef15cO+m5YgWs\r\na=ssrc:3289566765 msid:9a6a3fa4-9852-4271-8886-cd8d3436d79e 063163f2-2773-457d-8c85-01a8a258a773\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:43.842 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2466311723 1 udp 2122260223 192.168.1.50 58232 typ host generation 0 ufrag wpTc network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wpTc'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:43.842 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2466311723 1 udp 2122260223 192.168.1.50 61827 typ host generation 0 ufrag wpTc network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'wpTc'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:43.951 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3986606886 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag wpTc network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wpTc'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:43.952 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3986606886 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag wpTc network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'wpTc'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:53:44.868 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 5484086817236650730 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 80c584ea-73ae-496d-a2e5-f3e81cd11dd8\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:qR1f\r\na=ice-pwd:c0+9moJIGcw7uTyHeR9jZ5Tf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:49:2D:2C:36:E5:26:EB:BC:9C:A7:67:41:19:15:C2:00:28:58:49:46:A9:FD:3E:18:F6:89:07:13:D4:F0:C2\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:80c584ea-73ae-496d-a2e5-f3e81cd11dd8 ac330318-3cc2-4295-877e-ba9313a1fc6e\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:315234559 cname:NKjL953bbQTBZFVF\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:qR1f\r\na=ice-pwd:c0+9moJIGcw7uTyHeR9jZ5Tf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:49:2D:2C:36:E5:26:EB:BC:9C:A7:67:41:19:15:C2:00:28:58:49:46:A9:FD:3E:18:F6:89:07:13:D4:F0:C2\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:80c584ea-73ae-496d-a2e5-f3e81cd11dd8 87874894-8d15-4253-864b-47375074a62f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 724654106 1325569532\r\na=ssrc:724654106 cname:NKjL953bbQTBZFVF\r\na=ssrc:1325569532 cname:NKjL953bbQTBZFVF\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:53:44.869 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3430005167 1 udp 2113937151 192.168.1.205 50985 typ host generation 0 ufrag qR1f network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'qR1f'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:56:32.765 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:56:32.766 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:56:32.767 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:56:34.092 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:56:34.202 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:56:34.202 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:56:34.202 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:56:34.662 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:56:34.662 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:56:34.663 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:56:35.660 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:56:35.749 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:56:36.040 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:56:36.040 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:56:36.041 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:56:38.639 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:56:38.640 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:56:38.641 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:56:41.140 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:56:42.385 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:56:44.085 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 7147236416970822177 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 5d9631b4-2995-4cb2-9148-a7f5ae0efce2\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:7tf/\r\na=ice-pwd:0+pU9EBE9sm8fahsyC4VuEQJ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 4E:88:73:C2:1A:D9:B6:03:5A:1F:2E:18:9B:14:20:96:62:F3:62:3C:F6:DB:69:69:E2:18:7F:9F:E3:D6:44:0D\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:5d9631b4-2995-4cb2-9148-a7f5ae0efce2 2d7b3fed-74e9-4807-84db-281faf916f0c\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3384417344 cname:q3P5bxX3yPmTPFN0\r\na=ssrc:3384417344 msid:5d9631b4-2995-4cb2-9148-a7f5ae0efce2 2d7b3fed-74e9-4807-84db-281faf916f0c\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:7tf/\r\na=ice-pwd:0+pU9EBE9sm8fahsyC4VuEQJ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 4E:88:73:C2:1A:D9:B6:03:5A:1F:2E:18:9B:14:20:96:62:F3:62:3C:F6:DB:69:69:E2:18:7F:9F:E3:D6:44:0D\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:5d9631b4-2995-4cb2-9148-a7f5ae0efce2 0c624e62-a0a1-43a0-9c5e-36b5a1843ea6\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2363058620 1428817324\r\na=ssrc:2363058620 cname:q3P5bxX3yPmTPFN0\r\na=ssrc:2363058620 msid:5d9631b4-2995-4cb2-9148-a7f5ae0efce2 0c624e62-a0a1-43a0-9c5e-36b5a1843ea6\r\na=ssrc:1428817324 cname:q3P5bxX3yPmTPFN0\r\na=ssrc:1428817324 msid:5d9631b4-2995-4cb2-9148-a7f5ae0efce2 0c624e62-a0a1-43a0-9c5e-36b5a1843ea6\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:56:44.086 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:845231151 1 udp 2113937151 192.168.1.205 60857 typ host generation 0 ufrag 7tf/ network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '7tf/'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:56:44.086 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:845231151 1 udp 2113937151 192.168.1.205 58221 typ host generation 0 ufrag 7tf/ network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '7tf/'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 15:56:44.901 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 7433305733078842233 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS d8a39ff2-b327-49ae-8456-1265c5b5cde4\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3EXO\r\na=ice-pwd:7D/ei8Z6Qm5s569sryr7Q8Un\r\na=ice-options:trickle\r\na=fingerprint:sha-256 28:2D:A2:D6:1F:E2:19:39:59:74:9A:24:02:91:35:AE:FA:64:65:01:86:B0:8E:21:D6:F2:5D:CE:60:06:04:90\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:d8a39ff2-b327-49ae-8456-1265c5b5cde4 e984de20-83dc-4120-98c8-8a41171fa328\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2882278511 cname:3LrXMgoEAZ4DzVjk\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3EXO\r\na=ice-pwd:7D/ei8Z6Qm5s569sryr7Q8Un\r\na=ice-options:trickle\r\na=fingerprint:sha-256 28:2D:A2:D6:1F:E2:19:39:59:74:9A:24:02:91:35:AE:FA:64:65:01:86:B0:8E:21:D6:F2:5D:CE:60:06:04:90\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:d8a39ff2-b327-49ae-8456-1265c5b5cde4 8da99aeb-4741-4318-af86-43f36661b031\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2282586957 3420486076\r\na=ssrc:2282586957 cname:3LrXMgoEAZ4DzVjk\r\na=ssrc:3420486076 cname:3LrXMgoEAZ4DzVjk\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:56:44.914 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1337928179 1 udp 2122260223 192.168.1.50 50755 typ host generation 0 ufrag 3EXO network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3EXO'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:56:45.018 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2971008359 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 3EXO network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3EXO'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 15:57:47.332 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:57:47.335 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:57:47.337 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:57:48.131 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:57:48.131 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:57:48.132 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:57:48.401 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:57:48.401 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:57:48.401 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:57:48.604 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:57:49.412 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 15:57:49.416 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:58:07.459 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:58:07.460 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:58:07.460 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:58:08.425 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 15:58:08.426 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 15:58:08.427 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 15:58:08.619 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:58:08.910 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 15:58:08.911 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 15:58:08.911 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 15:58:09.974 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 15:58:10.072 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:02:23.140 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:02:23.142 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:02:23.142 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:02:24.613 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:02:26.518 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:02:26.518 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:02:26.519 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:02:26.615 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:02:26.615 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:02:26.616 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:02:27.081 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:02:27.545 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:03:41.926 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:03:41.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:03:41.929 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:03:42.677 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:03:44.138 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:03:44.138 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:03:44.138 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:03:45.211 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:03:45.213 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:03:45.213 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:03:45.213 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:03:46.470 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:03:47.383 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:03:47.384 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:03:47.384 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:03:50.010 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:03:50.011 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:03:50.011 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:03:55.141 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:03:55.497 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:04:13.223 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2923150207326509218 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS bb7f3aab-5d17-4b13-937f-a043ed7267c6\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:GYQQ\r\na=ice-pwd:w6InzCiEaTdywEBu+DW3Qhli\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C4:3A:14:1C:8E:25:AB:97:9D:DE:89:30:2C:7B:7E:E8:68:A0:6F:C1:27:43:9A:3B:A7:9B:AF:D0:F4:93:E6:44\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:bb7f3aab-5d17-4b13-937f-a043ed7267c6 12c112b1-a901-4d41-b2b3-714e995b3c13\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3372926025 cname:2ZTsn0el9Zn85IE5\r\na=ssrc:3372926025 msid:bb7f3aab-5d17-4b13-937f-a043ed7267c6 12c112b1-a901-4d41-b2b3-714e995b3c13\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:GYQQ\r\na=ice-pwd:w6InzCiEaTdywEBu+DW3Qhli\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C4:3A:14:1C:8E:25:AB:97:9D:DE:89:30:2C:7B:7E:E8:68:A0:6F:C1:27:43:9A:3B:A7:9B:AF:D0:F4:93:E6:44\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:bb7f3aab-5d17-4b13-937f-a043ed7267c6 3e7781a8-bc4a-434a-9f59-2dc1da5f3dc9\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 81633651 4009445190\r\na=ssrc:81633651 cname:2ZTsn0el9Zn85IE5\r\na=ssrc:81633651 msid:bb7f3aab-5d17-4b13-937f-a043ed7267c6 3e7781a8-bc4a-434a-9f59-2dc1da5f3dc9\r\na=ssrc:4009445190 cname:2ZTsn0el9Zn85IE5\r\na=ssrc:4009445190 msid:bb7f3aab-5d17-4b13-937f-a043ed7267c6 3e7781a8-bc4a-434a-9f59-2dc1da5f3dc9\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:04:13.225 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3373849497 1 udp 2113937151 192.168.1.205 40395 typ host generation 0 ufrag GYQQ network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'GYQQ'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:04:13.225 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3373849497 1 udp 2113937151 192.168.1.205 53618 typ host generation 0 ufrag GYQQ network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'GYQQ'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:04:14.081 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3310555259145095717 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 716a1377-215f-4f43-95c4-daa32cab1c29\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:CTbA\r\na=ice-pwd:DK+I31fvtfeBnKtdBo2aCVpN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 30:01:E6:46:80:56:77:62:1C:13:A9:AE:4B:3F:E7:80:92:E1:29:18:E7:A9:55:C7:E7:D4:E2:84:AF:21:84:57\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:716a1377-215f-4f43-95c4-daa32cab1c29 13d27e3a-5c6c-4607-b424-f42c6c65c9b4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1176632956 cname:uwmt2GlCiEy3sTBS\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:CTbA\r\na=ice-pwd:DK+I31fvtfeBnKtdBo2aCVpN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 30:01:E6:46:80:56:77:62:1C:13:A9:AE:4B:3F:E7:80:92:E1:29:18:E7:A9:55:C7:E7:D4:E2:84:AF:21:84:57\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:716a1377-215f-4f43-95c4-daa32cab1c29 2bb68e3b-2257-4e53-a8ad-60cfbf207475\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4246514823 4143175319\r\na=ssrc:4246514823 cname:uwmt2GlCiEy3sTBS\r\na=ssrc:4143175319 cname:uwmt2GlCiEy3sTBS\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:14.311 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:864571536 1 udp 2122260223 192.168.1.50 54317 typ host generation 0 ufrag CTbA network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'CTbA'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:14.311 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1296544264 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag CTbA network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'CTbA'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:28.217 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:04:58.083 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1498716750252566167 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 02937788-90da-4f03-aa30-d11a602a4686\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:7c+L\r\na=ice-pwd:x0FVuOQkMaKOxnwVq4awbfTD\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F4:17:04:F5:BE:8F:10:ED:43:66:29:62:90:24:2A:EF:CF:2E:C8:69:4F:6E:3A:49:29:DF:5B:EA:82:E4:96:03\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:02937788-90da-4f03-aa30-d11a602a4686 c15b394e-6d13-49cc-b9f2-da565096ba0c\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2260034976 cname:MG2jGG/SLO7x/cvT\r\na=ssrc:2260034976 msid:02937788-90da-4f03-aa30-d11a602a4686 c15b394e-6d13-49cc-b9f2-da565096ba0c\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:7c+L\r\na=ice-pwd:x0FVuOQkMaKOxnwVq4awbfTD\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F4:17:04:F5:BE:8F:10:ED:43:66:29:62:90:24:2A:EF:CF:2E:C8:69:4F:6E:3A:49:29:DF:5B:EA:82:E4:96:03\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:02937788-90da-4f03-aa30-d11a602a4686 b51f7190-63c4-409c-a728-fb94f837fa28\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1729688222 3174161978\r\na=ssrc:1729688222 cname:MG2jGG/SLO7x/cvT\r\na=ssrc:1729688222 msid:02937788-90da-4f03-aa30-d11a602a4686 b51f7190-63c4-409c-a728-fb94f837fa28\r\na=ssrc:3174161978 cname:MG2jGG/SLO7x/cvT\r\na=ssrc:3174161978 msid:02937788-90da-4f03-aa30-d11a602a4686 b51f7190-63c4-409c-a728-fb94f837fa28\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:58.085 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:125957855 1 udp 2122260223 192.168.1.50 59545 typ host generation 0 ufrag 7c+L network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '7c+L'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:58.085 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:125957855 1 udp 2122260223 192.168.1.50 54643 typ host generation 0 ufrag 7c+L network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '7c+L'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:58.196 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2035160135 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 7c+L network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '7c+L'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:58.631 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2035160135 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 7c+L network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '7c+L'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:04:59.200 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 2143060865893364768 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS a06fbdee-c2d0-4d7a-a529-ad7833c1b3f5\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:RJ53\r\na=ice-pwd:FSuQNLFACJ828WzrCx1F4fGc\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B2:3B:24:56:6E:22:A5:BC:18:35:34:84:BB:43:81:7B:72:60:E0:34:C9:22:16:C4:1F:29:31:9B:E0:6F:B6:0B\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:a06fbdee-c2d0-4d7a-a529-ad7833c1b3f5 3f2bbe99-5b05-44c2-91bf-0dd8d6180cd8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1387674617 cname:woK3bF+zIAc9vwZD\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:RJ53\r\na=ice-pwd:FSuQNLFACJ828WzrCx1F4fGc\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B2:3B:24:56:6E:22:A5:BC:18:35:34:84:BB:43:81:7B:72:60:E0:34:C9:22:16:C4:1F:29:31:9B:E0:6F:B6:0B\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:a06fbdee-c2d0-4d7a-a529-ad7833c1b3f5 d422cbcd-332f-4c63-bceb-edc329826ab8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3052824486 988460159\r\na=ssrc:3052824486 cname:woK3bF+zIAc9vwZD\r\na=ssrc:988460159 cname:woK3bF+zIAc9vwZD\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:04:59.201 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1877070825 1 udp 2113937151 192.168.1.205 43366 typ host generation 0 ufrag RJ53 network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'RJ53'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:05:17.450 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:05:19.626 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 8540951537125849637 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 34af6cdb-9c2b-4f45-83a5-d566beca58f0\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:mpQK\r\na=ice-pwd:NGj7sTlwhiRqKr1n7Z4X8j/1\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7E:4C:9A:00:A4:B1:F4:C5:64:6C:3D:D2:F1:7D:D2:58:9F:85:71:C7:C2:89:6B:80:8E:96:97:F9:D3:8F:9F:00\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:34af6cdb-9c2b-4f45-83a5-d566beca58f0 cfa37d47-a91f-4b9d-bbc2-c772ef5e857b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:987080784 cname:/31d3JWdzwx+CnGj\r\na=ssrc:987080784 msid:34af6cdb-9c2b-4f45-83a5-d566beca58f0 cfa37d47-a91f-4b9d-bbc2-c772ef5e857b\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:mpQK\r\na=ice-pwd:NGj7sTlwhiRqKr1n7Z4X8j/1\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7E:4C:9A:00:A4:B1:F4:C5:64:6C:3D:D2:F1:7D:D2:58:9F:85:71:C7:C2:89:6B:80:8E:96:97:F9:D3:8F:9F:00\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:34af6cdb-9c2b-4f45-83a5-d566beca58f0 df592e09-cdd5-4d34-85c3-2218646f9c3f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3620798531 2539080647\r\na=ssrc:3620798531 cname:/31d3JWdzwx+CnGj\r\na=ssrc:3620798531 msid:34af6cdb-9c2b-4f45-83a5-d566beca58f0 df592e09-cdd5-4d34-85c3-2218646f9c3f\r\na=ssrc:2539080647 cname:/31d3JWdzwx+CnGj\r\na=ssrc:2539080647 msid:34af6cdb-9c2b-4f45-83a5-d566beca58f0 df592e09-cdd5-4d34-85c3-2218646f9c3f\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:19.629 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3522957970 1 udp 2122260223 192.168.1.50 64598 typ host generation 0 ufrag mpQK network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'mpQK'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:19.630 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3522957970 1 udp 2122260223 192.168.1.50 54880 typ host generation 0 ufrag mpQK network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'mpQK'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:19.760 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2939416586 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag mpQK network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'mpQK'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:19.762 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2939416586 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag mpQK network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'mpQK'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:20.855 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 8867526766103469757 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS c338f8cd-a649-48a8-bc7f-73a7bb767e42\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:B7Fh\r\na=ice-pwd:ERKzNlJaZVT2R+zqkV/HDzUb\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A2:86:49:19:EA:C0:5B:36:C4:0B:52:0C:F5:8D:A9:FF:6F:59:95:2D:C6:AA:67:B3:BC:1F:CF:D2:77:26:42:23\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:c338f8cd-a649-48a8-bc7f-73a7bb767e42 b89314f4-3e46-47d1-90df-9ae650e8db5d\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1726903786 cname:e6A36dvgS878oTg+\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:B7Fh\r\na=ice-pwd:ERKzNlJaZVT2R+zqkV/HDzUb\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A2:86:49:19:EA:C0:5B:36:C4:0B:52:0C:F5:8D:A9:FF:6F:59:95:2D:C6:AA:67:B3:BC:1F:CF:D2:77:26:42:23\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:c338f8cd-a649-48a8-bc7f-73a7bb767e42 a2aa8f75-63dc-4054-94ef-8896f929dc3c\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3944831176 1012052975\r\na=ssrc:3944831176 cname:e6A36dvgS878oTg+\r\na=ssrc:1012052975 cname:e6A36dvgS878oTg+\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:05:20.856 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1498502599 1 udp 2113937151 192.168.1.205 59226 typ host generation 0 ufrag B7Fh network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'B7Fh'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:05:24.538 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:05:28.793 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:05:28.793 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:05:28.793 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:08:22.412 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:08:22.413 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:08:22.413 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:08:23.737 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:08:23.910 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:08:23.911 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:08:23.911 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:08:25.024 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:10:44.228 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:10:44.231 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:10:44.232 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:10:44.572 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:10:46.102 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:10:46.102 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:10:46.102 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:10:46.525 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:10:56.079 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:10:56.079 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:10:56.080 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:10:57.136 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:10:57.787 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:10:57.787 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:10:57.787 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:10:58.788 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:11:40.924 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:11:40.925 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:11:40.925 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:11:42.068 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:11:42.691 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:11:42.691 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:11:42.692 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:11:43.021 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:11:45.835 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:11:45.836 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:11:45.836 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:11:50.321 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:11:59.874 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:12:05.407 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'test', 'message_content': 'nhh', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:12:09.692 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'test', 'message_content': '头发干', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:12:15.614 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 8133509299759568292 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6KE6\r\na=ice-pwd:x0u3n1KMkZeZRugmGGHrG6J4\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C0:7D:2D:4C:90:96:C3:79:82:25:C7:D1:10:4D:41:7D:BB:F7:35:92:76:BF:0A:58:1A:5D:E5:D0:3E:83:94:45\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d 05dc0210-2061-478d-8621-ca850e549c7b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1573932360 cname:mtyEwxPwPjPrTlay\r\na=ssrc:1573932360 msid:8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d 05dc0210-2061-478d-8621-ca850e549c7b\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6KE6\r\na=ice-pwd:x0u3n1KMkZeZRugmGGHrG6J4\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C0:7D:2D:4C:90:96:C3:79:82:25:C7:D1:10:4D:41:7D:BB:F7:35:92:76:BF:0A:58:1A:5D:E5:D0:3E:83:94:45\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d 0d729e7b-f4d1-438d-841f-5c854f13ec5f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3157822853 1137402372\r\na=ssrc:3157822853 cname:mtyEwxPwPjPrTlay\r\na=ssrc:3157822853 msid:8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d 0d729e7b-f4d1-438d-841f-5c854f13ec5f\r\na=ssrc:1137402372 cname:mtyEwxPwPjPrTlay\r\na=ssrc:1137402372 msid:8cbb5d51-25ac-47e0-ada6-f7ccd80b8d1d 0d729e7b-f4d1-438d-841f-5c854f13ec5f\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:12:15.710 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:125054953 1 udp 2122260223 192.168.1.50 55719 typ host generation 0 ufrag 6KE6 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '6KE6'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:12:15.710 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:125054953 1 udp 2122260223 192.168.1.50 51451 typ host generation 0 ufrag 6KE6 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '6KE6'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:12:15.726 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4192140157 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 6KE6 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '6KE6'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:12:15.727 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4192140157 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 6KE6 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '6KE6'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:18:09.610 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:18:09.614 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:18:09.615 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:18:11.130 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:18:14.167 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:18:14.168 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:18:14.168 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:18:14.390 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:18:14.390 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:18:14.390 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:18:15.159 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:18:15.624 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:18:43.186 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:18:43.187 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:18:43.187 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:18:44.809 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:18:44.809 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:18:44.810 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:18:51.167 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:18:51.811 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:18:52.074 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4012488160 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag xNQ1 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'xNQ1'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:18:52.076 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4012488160 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag xNQ1 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'xNQ1'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:18:58.838 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:18:58.838 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:18:58.838 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:19:02.067 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:19:02.954 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:19:02.954 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:19:02.954 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:19:05.689 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:19:08.583 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 6012838448014098424 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 4c25666f-8796-4c4e-8a76-21659a80cb0c\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:I7My\r\na=ice-pwd:x2OJElmGJsrKmFyK2YDVMAME\r\na=ice-options:trickle\r\na=fingerprint:sha-256 59:96:4A:AD:01:08:D0:2A:7D:75:70:3A:0F:E2:F5:AC:D0:F1:A1:6E:E0:D0:BA:46:6D:F0:54:05:4E:2B:F6:5D\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:4c25666f-8796-4c4e-8a76-21659a80cb0c 68752866-9f38-47a1-8cad-394c776a2989\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2806106429 cname:cPT72U3dX42kFpgt\r\na=ssrc:2806106429 msid:4c25666f-8796-4c4e-8a76-21659a80cb0c 68752866-9f38-47a1-8cad-394c776a2989\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:I7My\r\na=ice-pwd:x2OJElmGJsrKmFyK2YDVMAME\r\na=ice-options:trickle\r\na=fingerprint:sha-256 59:96:4A:AD:01:08:D0:2A:7D:75:70:3A:0F:E2:F5:AC:D0:F1:A1:6E:E0:D0:BA:46:6D:F0:54:05:4E:2B:F6:5D\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:4c25666f-8796-4c4e-8a76-21659a80cb0c 8f735376-daed-480b-9a60-26a101d1b6fd\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2882186306 555348178\r\na=ssrc:2882186306 cname:cPT72U3dX42kFpgt\r\na=ssrc:2882186306 msid:4c25666f-8796-4c4e-8a76-21659a80cb0c 8f735376-daed-480b-9a60-26a101d1b6fd\r\na=ssrc:555348178 cname:cPT72U3dX42kFpgt\r\na=ssrc:555348178 msid:4c25666f-8796-4c4e-8a76-21659a80cb0c 8f735376-daed-480b-9a60-26a101d1b6fd\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:08.587 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3230831112 1 udp 2122260223 192.168.1.50 49196 typ host generation 0 ufrag I7My network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'I7My'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:08.592 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3230831112 1 udp 2122260223 192.168.1.50 61729 typ host generation 0 ufrag I7My network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'I7My'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:08.704 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3193794704 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag I7My network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'I7My'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:08.708 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3193794704 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag I7My network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'I7My'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:12.235 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:19:12.236 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:19:12.236 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:19:14.229 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:19:14.233 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:19:14.233 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:19:18.447 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:19:25.749 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:19:35.722 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4638048332431155057 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 3d39780c-62ec-4011-b1a9-0927da8a9b01\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8+IB\r\na=ice-pwd:UFERQv8qfPQKIg/aGfnFUuJ8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 17:9D:53:D6:CE:74:DB:66:85:3E:FE:F3:CD:B2:37:37:9B:B7:8D:C9:C6:B6:88:AA:A9:76:9C:D3:77:83:BB:FB\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:3d39780c-62ec-4011-b1a9-0927da8a9b01 32b707fc-f496-47e3-a7d2-c27384ec36bc\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:963237982 cname:rVVtouC+A4xTA6sW\r\na=ssrc:963237982 msid:3d39780c-62ec-4011-b1a9-0927da8a9b01 32b707fc-f496-47e3-a7d2-c27384ec36bc\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8+IB\r\na=ice-pwd:UFERQv8qfPQKIg/aGfnFUuJ8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 17:9D:53:D6:CE:74:DB:66:85:3E:FE:F3:CD:B2:37:37:9B:B7:8D:C9:C6:B6:88:AA:A9:76:9C:D3:77:83:BB:FB\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:3d39780c-62ec-4011-b1a9-0927da8a9b01 de9c5b2d-507e-4139-9b95-1d0e2afff571\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3332390723 691403282\r\na=ssrc:3332390723 cname:rVVtouC+A4xTA6sW\r\na=ssrc:3332390723 msid:3d39780c-62ec-4011-b1a9-0927da8a9b01 de9c5b2d-507e-4139-9b95-1d0e2afff571\r\na=ssrc:691403282 cname:rVVtouC+A4xTA6sW\r\na=ssrc:691403282 msid:3d39780c-62ec-4011-b1a9-0927da8a9b01 de9c5b2d-507e-4139-9b95-1d0e2afff571\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:19:35.729 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:446274577 1 udp 2113937151 192.168.1.205 35105 typ host generation 0 ufrag 8+IB network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '8+IB'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:19:35.730 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:446274577 1 udp 2113937151 192.168.1.205 54005 typ host generation 0 ufrag 8+IB network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '8+IB'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:19:36.520 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 2858514308314736493 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS f3877241-f8be-473e-a19a-46b2cdc41317\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:/cz0\r\na=ice-pwd:khy/qI4NkG1yb+r4SvsLUyuN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E1:BF:F3:82:8F:F0:C9:FD:2A:93:80:4A:43:9F:22:58:30:37:E6:03:D7:CE:68:85:AB:19:29:02:F9:87:02:E9\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:f3877241-f8be-473e-a19a-46b2cdc41317 e32ce98c-97ea-4d01-8de4-aaa1e8feb9d9\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:979513166 cname:JjTRJSRzoUDJMfOw\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:/cz0\r\na=ice-pwd:khy/qI4NkG1yb+r4SvsLUyuN\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E1:BF:F3:82:8F:F0:C9:FD:2A:93:80:4A:43:9F:22:58:30:37:E6:03:D7:CE:68:85:AB:19:29:02:F9:87:02:E9\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:f3877241-f8be-473e-a19a-46b2cdc41317 ef75c7b0-4c74-43c3-a60a-123ba5282c7b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 336436536 2439538615\r\na=ssrc:336436536 cname:JjTRJSRzoUDJMfOw\r\na=ssrc:2439538615 cname:JjTRJSRzoUDJMfOw\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:36.524 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1330045184 1 udp 2122260223 192.168.1.50 49489 typ host generation 0 ufrag /cz0 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '/cz0'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:36.643 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:831062936 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag /cz0 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '/cz0'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:19:41.888 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:19:41.888 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:19:41.889 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:19:44.280 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:19:44.281 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:19:44.281 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:19:45.873 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:19:48.430 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:19:48.431 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:19:48.431 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:19:53.721 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:20:01.833 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:20:03.213 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5151082209864282878 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 68a5641f-03d1-4292-9a95-416fa454ac4b\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sNWr\r\na=ice-pwd:KvGDbx0LxntnjNg08hQdOPzS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 35:2C:04:6A:77:ED:9B:0F:25:6E:0B:CD:3A:AE:17:3D:68:82:44:63:0C:7D:21:93:CA:B0:FB:F9:8C:7B:6F:86\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:68a5641f-03d1-4292-9a95-416fa454ac4b a2ad8fb7-736e-48b9-a2ee-00ab2cd82892\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3007221164 cname:RRnbiP9D1dSbVzEU\r\na=ssrc:3007221164 msid:68a5641f-03d1-4292-9a95-416fa454ac4b a2ad8fb7-736e-48b9-a2ee-00ab2cd82892\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sNWr\r\na=ice-pwd:KvGDbx0LxntnjNg08hQdOPzS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 35:2C:04:6A:77:ED:9B:0F:25:6E:0B:CD:3A:AE:17:3D:68:82:44:63:0C:7D:21:93:CA:B0:FB:F9:8C:7B:6F:86\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:68a5641f-03d1-4292-9a95-416fa454ac4b 766d6229-b451-4b29-b93e-4124c340afcb\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2267174986 3677423218\r\na=ssrc:2267174986 cname:RRnbiP9D1dSbVzEU\r\na=ssrc:2267174986 msid:68a5641f-03d1-4292-9a95-416fa454ac4b 766d6229-b451-4b29-b93e-4124c340afcb\r\na=ssrc:3677423218 cname:RRnbiP9D1dSbVzEU\r\na=ssrc:3677423218 msid:68a5641f-03d1-4292-9a95-416fa454ac4b 766d6229-b451-4b29-b93e-4124c340afcb\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:20:03.214 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4261063574 1 udp 2122260223 192.168.1.50 65111 typ host generation 0 ufrag sNWr network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'sNWr'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:20:03.214 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4261063574 1 udp 2122260223 192.168.1.50 59689 typ host generation 0 ufrag sNWr network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'sNWr'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:20:03.321 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2201307406 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag sNWr network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'sNWr'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:20:03.837 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2201307406 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag sNWr network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'sNWr'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:20:48.827 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:20:48.828 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:20:48.829 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:20:49.859 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:20:51.960 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:20:51.961 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:20:51.961 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:20:52.316 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:20:52.316 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:20:52.317 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:20:52.787 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:20:53.570 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:21:07.643 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:21:07.644 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:21:07.644 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:21:12.570 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:21:12.570 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:21:12.570 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:21:16.012 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:21:17.994 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:21:18.555 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2519397691646013015 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 2ba12efe-cfd3-4cba-ac87-ce7a788de417\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wa9F\r\na=ice-pwd:KG9SG22Asd4CFcQ2w76j9dIM\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B9:FB:33:A3:D1:F1:CC:04:F5:60:5F:8B:DB:2C:EA:06:A6:12:1C:6B:34:90:C0:26:1E:A2:6E:D2:1D:3B:4F:98\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:2ba12efe-cfd3-4cba-ac87-ce7a788de417 eb50a9ea-52b4-43b0-a77e-74925c8aa27f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1130804189 cname:gvhaT63yZNi3QGRr\r\na=ssrc:1130804189 msid:2ba12efe-cfd3-4cba-ac87-ce7a788de417 eb50a9ea-52b4-43b0-a77e-74925c8aa27f\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wa9F\r\na=ice-pwd:KG9SG22Asd4CFcQ2w76j9dIM\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B9:FB:33:A3:D1:F1:CC:04:F5:60:5F:8B:DB:2C:EA:06:A6:12:1C:6B:34:90:C0:26:1E:A2:6E:D2:1D:3B:4F:98\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:2ba12efe-cfd3-4cba-ac87-ce7a788de417 9d1ae311-5a4e-4f5c-b06a-8c276abf5ed7\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2488352900 998939539\r\na=ssrc:2488352900 cname:gvhaT63yZNi3QGRr\r\na=ssrc:2488352900 msid:2ba12efe-cfd3-4cba-ac87-ce7a788de417 9d1ae311-5a4e-4f5c-b06a-8c276abf5ed7\r\na=ssrc:998939539 cname:gvhaT63yZNi3QGRr\r\na=ssrc:998939539 msid:2ba12efe-cfd3-4cba-ac87-ce7a788de417 9d1ae311-5a4e-4f5c-b06a-8c276abf5ed7\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:21:18.556 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3644303695 1 udp 2122260223 192.168.1.50 58234 typ host generation 0 ufrag wa9F network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wa9F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:21:18.656 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3644303695 1 udp 2122260223 192.168.1.50 58829 typ host generation 0 ufrag wa9F network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'wa9F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:21:18.670 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:664632795 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag wa9F network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wa9F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:21:18.673 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:664632795 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag wa9F network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'wa9F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:24:56.281 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:24:56.281 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:24:56.282 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:25:06.616 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:25:59.181 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:25:59.183 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:25:59.183 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:26:00.167 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:26:00.654 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:26:00.655 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:26:00.656 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:26:01.639 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:26:01.640 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:26:01.640 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:26:01.985 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:26:03.102 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:26:14.356 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:26:14.357 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:26:14.357 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:26:16.277 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:26:16.695 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3625716606842430287 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 79af2df9-7591-42b1-8922-ec47b75b510a\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3Hb9\r\na=ice-pwd:VFahjfPxtK0u+zU6wZAbukO7\r\na=ice-options:trickle\r\na=fingerprint:sha-256 27:16:40:94:79:DA:66:29:B9:F8:1C:19:EE:90:68:93:D0:B3:FB:ED:69:50:64:85:20:BA:6F:F5:71:FF:79:51\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:79af2df9-7591-42b1-8922-ec47b75b510a 33e12d0b-06fe-434a-9656-62562ca2b19a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2046964880 cname:m5O5x+kaJ0A9FIgP\r\na=ssrc:2046964880 msid:79af2df9-7591-42b1-8922-ec47b75b510a 33e12d0b-06fe-434a-9656-62562ca2b19a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3Hb9\r\na=ice-pwd:VFahjfPxtK0u+zU6wZAbukO7\r\na=ice-options:trickle\r\na=fingerprint:sha-256 27:16:40:94:79:DA:66:29:B9:F8:1C:19:EE:90:68:93:D0:B3:FB:ED:69:50:64:85:20:BA:6F:F5:71:FF:79:51\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:79af2df9-7591-42b1-8922-ec47b75b510a 5828e3d4-e5a7-4698-95f3-95c517ebec5a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2696785270 1226721335\r\na=ssrc:2696785270 cname:m5O5x+kaJ0A9FIgP\r\na=ssrc:2696785270 msid:79af2df9-7591-42b1-8922-ec47b75b510a 5828e3d4-e5a7-4698-95f3-95c517ebec5a\r\na=ssrc:1226721335 cname:m5O5x+kaJ0A9FIgP\r\na=ssrc:1226721335 msid:79af2df9-7591-42b1-8922-ec47b75b510a 5828e3d4-e5a7-4698-95f3-95c517ebec5a\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:16.697 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4126847733 1 udp 2122260223 192.168.1.50 56437 typ host generation 0 ufrag 3Hb9 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3Hb9'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:16.700 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4126847733 1 udp 2122260223 192.168.1.50 56937 typ host generation 0 ufrag 3Hb9 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '3Hb9'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:16.818 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2335527021 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 3Hb9 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3Hb9'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:16.819 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2335527021 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 3Hb9 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '3Hb9'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:17.394 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 4809306836000340301 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:43Fe\r\na=ice-pwd:UsfoXFtL7+aCmu0xhjfklRlZ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AB:20:30:83:74:B3:7F:3B:FB:52:5E:B4:77:C6:A7:9E:3C:CD:7B:B6:07:50:92:CE:95:AC:B1:CF:F4:B1:B4:B5\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:43Fe\r\na=ice-pwd:UsfoXFtL7+aCmu0xhjfklRlZ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AB:20:30:83:74:B3:7F:3B:FB:52:5E:B4:77:C6:A7:9E:3C:CD:7B:B6:07:50:92:CE:95:AC:B1:CF:F4:B1:B4:B5\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:26:17.396 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2796476371 1 udp 2113937151 192.168.1.205 49610 typ host generation 0 ufrag 43Fe network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '43Fe'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:26:20.167 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:26:20.167 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:26:20.168 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:26:21.608 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:26:24.829 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:26:24.829 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:26:24.829 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:26:28.676 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:26:30.451 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 9048077463451939324 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 845ce5b7-c195-46be-bcaa-d94d9becef4e\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:OjLs\r\na=ice-pwd:QisNdmHpoaq0S1xA7w0oqxkn\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5D:0A:16:4D:67:FD:32:E0:19:BA:28:B6:0E:75:C2:1F:E0:EB:B6:D4:D0:60:89:58:B4:10:D0:28:70:AC:6A:A0\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:845ce5b7-c195-46be-bcaa-d94d9becef4e 043f9203-028f-44ca-9ae3-16bb7827c26a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1352246363 cname:IGQRBrMwZr2MSXy1\r\na=ssrc:1352246363 msid:845ce5b7-c195-46be-bcaa-d94d9becef4e 043f9203-028f-44ca-9ae3-16bb7827c26a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:OjLs\r\na=ice-pwd:QisNdmHpoaq0S1xA7w0oqxkn\r\na=ice-options:trickle\r\na=fingerprint:sha-256 5D:0A:16:4D:67:FD:32:E0:19:BA:28:B6:0E:75:C2:1F:E0:EB:B6:D4:D0:60:89:58:B4:10:D0:28:70:AC:6A:A0\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:845ce5b7-c195-46be-bcaa-d94d9becef4e a3f7d9d2-5dc8-443e-a112-b0c4db0919d4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 663897763 3149693784\r\na=ssrc:663897763 cname:IGQRBrMwZr2MSXy1\r\na=ssrc:663897763 msid:845ce5b7-c195-46be-bcaa-d94d9becef4e a3f7d9d2-5dc8-443e-a112-b0c4db0919d4\r\na=ssrc:3149693784 cname:IGQRBrMwZr2MSXy1\r\na=ssrc:3149693784 msid:845ce5b7-c195-46be-bcaa-d94d9becef4e a3f7d9d2-5dc8-443e-a112-b0c4db0919d4\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:30.453 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3292870494 1 udp 2122260223 192.168.1.50 59629 typ host generation 0 ufrag OjLs network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'OjLs'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:30.454 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3292870494 1 udp 2122260223 192.168.1.50 52451 typ host generation 0 ufrag OjLs network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'OjLs'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:30.580 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3129660870 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag OjLs network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'OjLs'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:30.580 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3129660870 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag OjLs network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'OjLs'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:26:31.237 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 7240181876765391370 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:P5mz\r\na=ice-pwd:V+EPjRATk6NjJ4oZ9ddcVl8C\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E1:2B:55:5C:AA:FD:01:23:E8:81:6C:27:6E:E2:15:D6:54:D4:A8:8D:EA:4F:DB:14:D3:FE:50:25:B6:85:ED:49\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:P5mz\r\na=ice-pwd:V+EPjRATk6NjJ4oZ9ddcVl8C\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E1:2B:55:5C:AA:FD:01:23:E8:81:6C:27:6E:E2:15:D6:54:D4:A8:8D:EA:4F:DB:14:D3:FE:50:25:B6:85:ED:49\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:26:31.241 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1887942245 1 udp 2113937151 192.168.1.205 43436 typ host generation 0 ufrag P5mz network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'P5mz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:27:13.439 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:27:13.440 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:27:13.440 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:27:16.841 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:27:26.778 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4081829214607629352 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:27:27.627 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 5081621561233172248 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:29:53.405 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:29:53.406 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:29:53.407 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:30:00.590 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:31:39.214 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:31:39.219 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:31:39.219 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:31:45.760 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:31:59.978 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:31:59.979 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:31:59.979 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:00.437 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:01.692 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:32:01.693 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:32:01.694 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:01.702 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:32:01.702 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:32:01.702 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:32:02.749 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:32:02.850 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:10.662 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:32:10.663 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:32:10.664 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:11.801 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:12.135 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:32:12.136 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:32:12.136 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:12.864 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:32:12.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:32:12.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:32:13.284 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:32:15.006 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:16.019 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:32:16.019 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:32:16.019 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:17.582 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:18.677 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3366947735305617881 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 1891dfbc-00cc-40d7-b533-9c5cfcee1637\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pGBi\r\na=ice-pwd:390wlSrjno2zSaIeNXJeMofE\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F3:3D:75:41:B8:65:4D:5E:37:9D:E6:E6:D3:C0:5A:28:2E:F2:1A:1B:1F:9A:58:29:E8:9D:F5:69:33:24:86:1C\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:1891dfbc-00cc-40d7-b533-9c5cfcee1637 fe0a03c0-4fcd-40a7-bacf-e2978d293f31\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3064516297 cname:8sfCDm7YCB+NENBM\r\na=ssrc:3064516297 msid:1891dfbc-00cc-40d7-b533-9c5cfcee1637 fe0a03c0-4fcd-40a7-bacf-e2978d293f31\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pGBi\r\na=ice-pwd:390wlSrjno2zSaIeNXJeMofE\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F3:3D:75:41:B8:65:4D:5E:37:9D:E6:E6:D3:C0:5A:28:2E:F2:1A:1B:1F:9A:58:29:E8:9D:F5:69:33:24:86:1C\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:1891dfbc-00cc-40d7-b533-9c5cfcee1637 6889e061-2c7e-4af9-aa95-8ec23be9e525\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3797903659 3078145313\r\na=ssrc:3797903659 cname:8sfCDm7YCB+NENBM\r\na=ssrc:3797903659 msid:1891dfbc-00cc-40d7-b533-9c5cfcee1637 6889e061-2c7e-4af9-aa95-8ec23be9e525\r\na=ssrc:3078145313 cname:8sfCDm7YCB+NENBM\r\na=ssrc:3078145313 msid:1891dfbc-00cc-40d7-b533-9c5cfcee1637 6889e061-2c7e-4af9-aa95-8ec23be9e525\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:18.679 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1729456810 1 udp 2122260223 192.168.1.50 55969 typ host generation 0 ufrag pGBi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'pGBi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:18.679 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1729456810 1 udp 2122260223 192.168.1.50 59862 typ host generation 0 ufrag pGBi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'pGBi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:18.796 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2579480126 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag pGBi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'pGBi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:18.797 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2579480126 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag pGBi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'pGBi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:19.406 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 2602686099055030240 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:ALsc\r\na=ice-pwd:ffNQgCnyNDc/X6K9N1tBCMZf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F7:7B:7C:8D:03:9B:9D:E0:FD:AB:2D:6E:A2:02:8B:D3:ED:59:A5:98:2B:7C:69:3D:30:69:1D:1C:42:5A:1F:2F\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:ALsc\r\na=ice-pwd:ffNQgCnyNDc/X6K9N1tBCMZf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F7:7B:7C:8D:03:9B:9D:E0:FD:AB:2D:6E:A2:02:8B:D3:ED:59:A5:98:2B:7C:69:3D:30:69:1D:1C:42:5A:1F:2F\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:32:19.409 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1400558013 1 udp 2113937151 192.168.1.205 50648 typ host generation 0 ufrag ALsc network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'ALsc'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:32:23.538 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:32:23.552 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:32:23.553 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:32:24.677 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:32:30.300 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2582009512310730384 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:32:30.799 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 441515443783427990 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:33:11.600 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:33:11.603 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:33:11.603 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:33:12.735 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:33:12.736 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:33:12.736 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:33:12.837 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:33:13.067 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:33:13.067 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:33:13.067 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:33:13.494 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:33:14.073 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:34:54.312 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:34:54.314 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:34:54.314 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:35:00.096 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:35:57.939 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:35:57.940 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:35:57.941 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:35:58.985 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:35:59.912 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:35:59.913 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:35:59.914 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:36:01.089 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:36:01.215 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:36:01.215 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:36:01.216 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:36:02.568 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:36:10.145 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:36:10.146 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:36:10.147 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:36:17.286 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:36:21.915 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 7407045294422420839 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:36:22.242 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3105593103092105203 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:36:39.409 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:36:39.411 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:36:39.411 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:36:54.995 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:36:54.998 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:36:54.998 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:36:55.958 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:36:56.822 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:36:56.823 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:36:56.823 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:36:57.972 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:37:39.284 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:37:41.367 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1993582207367290953 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:37:41.814 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 755555261651917935 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:40:17.108 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:40:17.109 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:40:17.110 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:40:18.498 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:40:19.959 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:40:19.959 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:40:19.960 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:40:20.369 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:40:20.812 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:40:20.812 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:40:20.813 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:40:21.940 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:40:22.102 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:40:22.102 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:40:22.102 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:40:23.961 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:40:23.962 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:40:23.963 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:40:25.955 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:40:55.568 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:40:55.569 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:40:55.569 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:40:57.211 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:41:21.501 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:41:21.502 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:41:21.503 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:41:22.856 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:41:22.857 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:41:22.857 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:41:22.892 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:41:24.305 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:41:24.614 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:41:24.614 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:41:24.614 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:41:26.031 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:41:26.133 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:41:26.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:41:26.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:41:29.218 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:41:37.217 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:41:37.218 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:41:37.218 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:41:39.012 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:42:56.236 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:42:56.237 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:42:56.237 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:42:56.584 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:42:59.249 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:42:59.249 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:42:59.249 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:43:00.293 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:43:38.492 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:43:38.493 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:43:38.493 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:43:39.470 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:43:41.133 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:43:41.133 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:43:41.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:43:42.201 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:43:45.627 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:43:45.628 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:43:45.628 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:43:46.384 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:43:50.049 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2477891174449582793 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:43:50.859 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 1049242621589243491 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:44:12.477 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:44:12.477 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:44:12.478 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:44:23.018 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:44:25.495 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1883898353135849098 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:44:25.716 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3310367573781860787 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:44:42.792 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:44:42.793 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:44:42.793 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:44:43.164 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:44:43.846 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:44:43.847 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:44:43.847 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:44:49.579 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:44:49.580 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:44:49.580 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:44:51.094 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:45:02.923 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:45:04.598 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5539891285802833246 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 16:45:04.818 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 6413110903825105288 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:47:35.068 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:47:35.069 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:47:35.070 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:47:36.311 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:47:39.094 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:47:39.094 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:47:39.095 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:47:40.133 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:47:57.633 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:47:57.634 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:47:57.634 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:47:59.173 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:48:01.205 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:48:01.205 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:48:01.207 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:48:02.245 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:48:13.080 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:48:13.081 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:48:13.081 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:48:14.160 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:48:15.074 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:48:15.074 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:48:15.075 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:48:15.327 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:48:32.479 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:48:32.480 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:48:32.481 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:48:33.690 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:48:34.600 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:48:34.600 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:48:34.601 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:48:35.555 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:48:52.694 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:48:52.695 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:48:52.695 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:48:54.312 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:49:47.594 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:49:47.597 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:49:47.598 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:50:05.935 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:50:10.384 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:50:12.330 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:50:12.332 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:50:12.332 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:50:15.056 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:50:27.022 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:50:27.022 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:50:27.023 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:50:41.279 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:50:41.611 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:50:41.611 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:50:41.612 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:50:43.216 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:50:43.217 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 16:50:43.220 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:50:43.221 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:50:43.221 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:50:50.175 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:50:57.828 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:51:01.924 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5131257003868388119 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS c0ad0243-b235-41c0-86ee-e4ff9279d63c\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:J6Gi\r\na=ice-pwd:efta1y4kwePgAF52KFXsDvXL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A4:75:50:88:96:E4:BD:9B:1E:4E:BF:9D:7C:46:8F:A7:26:A0:35:4D:23:5A:8D:B9:1E:77:A0:A8:43:BE:2B:83\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:c0ad0243-b235-41c0-86ee-e4ff9279d63c df0b5343-561d-4a67-ad78-86a8e2b67127\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:321191436 cname:E9AXpgMq7aA8+9fE\r\na=ssrc:321191436 msid:c0ad0243-b235-41c0-86ee-e4ff9279d63c df0b5343-561d-4a67-ad78-86a8e2b67127\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:J6Gi\r\na=ice-pwd:efta1y4kwePgAF52KFXsDvXL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A4:75:50:88:96:E4:BD:9B:1E:4E:BF:9D:7C:46:8F:A7:26:A0:35:4D:23:5A:8D:B9:1E:77:A0:A8:43:BE:2B:83\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:c0ad0243-b235-41c0-86ee-e4ff9279d63c 0fa4c533-7eb5-4bce-84f7-494c419d7787\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3768006204 2328547187\r\na=ssrc:3768006204 cname:E9AXpgMq7aA8+9fE\r\na=ssrc:3768006204 msid:c0ad0243-b235-41c0-86ee-e4ff9279d63c 0fa4c533-7eb5-4bce-84f7-494c419d7787\r\na=ssrc:2328547187 cname:E9AXpgMq7aA8+9fE\r\na=ssrc:2328547187 msid:c0ad0243-b235-41c0-86ee-e4ff9279d63c 0fa4c533-7eb5-4bce-84f7-494c419d7787\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:51:01.927 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1496217990 1 udp 2122260223 192.168.1.50 55799 typ host generation 0 ufrag J6Gi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'J6Gi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:51:01.927 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1496217990 1 udp 2122260223 192.168.1.50 52879 typ host generation 0 ufrag J6Gi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'J6Gi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:51:01.928 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2810490130 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag J6Gi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'J6Gi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:51:01.929 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2810490130 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag J6Gi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'J6Gi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:53:17.403 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:53:17.405 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:53:17.406 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:53:18.943 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:53:18.944 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:53:18.944 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:53:19.363 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:53:19.364 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:53:19.364 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:53:20.564 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:53:32.770 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:53:36.419 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:54:39.645 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:54:39.649 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:54:39.649 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:54:40.596 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:54:41.096 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:54:41.097 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:54:41.097 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:54:41.999 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:54:42.000 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:54:42.000 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:54:42.120 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:54:43.563 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:54:45.738 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:54:45.739 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:54:45.739 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:54:50.056 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:54:52.835 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:54:52.836 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:54:52.836 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:54:55.889 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:55:42.692 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:55:42.693 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:55:42.693 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:55:43.314 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:55:43.315 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:55:43.315 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:55:43.707 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:55:43.853 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:55:43.853 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:55:43.853 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:55:44.953 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:55:44.996 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:55:47.802 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:55:47.802 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:55:47.802 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:55:52.119 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:56:02.494 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:56:02.495 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:56:02.495 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:56:05.974 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:57:24.603 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:57:24.605 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:57:24.605 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:57:29.912 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:57:29.912 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:57:29.912 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:57:30.894 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:57:32.380 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:57:34.863 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 16:57:34.864 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 16:57:34.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 16:57:37.205 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 16:57:37.205 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 16:57:37.206 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 16:57:38.327 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 16:57:45.238 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 16:57:50.828 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5957704444953909824 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 4d8b15dc-3dad-4a86-8f8a-348533da1525\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:yh13\r\na=ice-pwd:asOZnDXjxieJjx8aSDJtiTBw\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:31:AC:95:C3:A2:F3:E4:6E:5C:C3:37:CE:07:5D:D9:46:76:89:67:4E:46:1E:80:F0:C5:00:5B:B3:AC:10:91\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:4d8b15dc-3dad-4a86-8f8a-348533da1525 764355c0-ab31-4130-9db0-84581d80202b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:569376899 cname:++BzFw00//zBsgtM\r\na=ssrc:569376899 msid:4d8b15dc-3dad-4a86-8f8a-348533da1525 764355c0-ab31-4130-9db0-84581d80202b\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:yh13\r\na=ice-pwd:asOZnDXjxieJjx8aSDJtiTBw\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:31:AC:95:C3:A2:F3:E4:6E:5C:C3:37:CE:07:5D:D9:46:76:89:67:4E:46:1E:80:F0:C5:00:5B:B3:AC:10:91\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:4d8b15dc-3dad-4a86-8f8a-348533da1525 6787d7d9-32bf-4700-a200-757cd5fad082\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 819471645 3600259691\r\na=ssrc:819471645 cname:++BzFw00//zBsgtM\r\na=ssrc:819471645 msid:4d8b15dc-3dad-4a86-8f8a-348533da1525 6787d7d9-32bf-4700-a200-757cd5fad082\r\na=ssrc:3600259691 cname:++BzFw00//zBsgtM\r\na=ssrc:3600259691 msid:4d8b15dc-3dad-4a86-8f8a-348533da1525 6787d7d9-32bf-4700-a200-757cd5fad082\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:57:50.832 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2627949570 1 udp 2122260223 192.168.1.50 61017 typ host generation 0 ufrag yh13 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'yh13'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:57:50.833 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2627949570 1 udp 2122260223 192.168.1.50 58153 typ host generation 0 ufrag yh13 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'yh13'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:57:50.949 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3798775450 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag yh13 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'yh13'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 16:57:50.950 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3798775450 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag yh13 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'yh13'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:01:18.047 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:01:18.048 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:01:18.049 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:01:19.213 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:01:19.556 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:01:19.556 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:01:19.556 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:01:19.609 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:01:19.609 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:01:19.609 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:01:19.980 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:01:20.944 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:02:07.478 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:02:07.479 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:02:07.479 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:02:15.333 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:02:15.334 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:02:15.334 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:02:17.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:02:18.274 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:02:36.931 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:02:36.931 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:02:36.932 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:02:37.566 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:02:37.567 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:02:37.567 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:02:37.934 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:02:37.935 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:02:37.935 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:02:38.281 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:02:39.489 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:02:40.922 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:02:41.487 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:02:41.487 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:02:41.487 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:02:43.666 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:02:43.666 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:02:43.667 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:02:46.131 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:02:47.634 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:02:48.439 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 8049384536975732072 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS c187cbd4-98b2-464f-bf0c-bc9241a65933\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8SKy\r\na=ice-pwd:wDqmDKTnEJbG8jHezlFstitK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 93:CC:D2:7C:98:04:84:42:16:B1:D2:63:DF:B1:0B:26:9B:4C:35:06:09:0F:E0:93:F1:EE:44:05:30:59:6F:96\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:c187cbd4-98b2-464f-bf0c-bc9241a65933 b6c6f690-fdac-47b0-84c9-e735698f685e\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1899930865 cname:pUMerfsVX6iBK+ms\r\na=ssrc:1899930865 msid:c187cbd4-98b2-464f-bf0c-bc9241a65933 b6c6f690-fdac-47b0-84c9-e735698f685e\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8SKy\r\na=ice-pwd:wDqmDKTnEJbG8jHezlFstitK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 93:CC:D2:7C:98:04:84:42:16:B1:D2:63:DF:B1:0B:26:9B:4C:35:06:09:0F:E0:93:F1:EE:44:05:30:59:6F:96\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:c187cbd4-98b2-464f-bf0c-bc9241a65933 8f7e8dbb-9ba6-4cb3-a672-551a379ef434\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2677438313 602318173\r\na=ssrc:2677438313 cname:pUMerfsVX6iBK+ms\r\na=ssrc:2677438313 msid:c187cbd4-98b2-464f-bf0c-bc9241a65933 8f7e8dbb-9ba6-4cb3-a672-551a379ef434\r\na=ssrc:602318173 cname:pUMerfsVX6iBK+ms\r\na=ssrc:602318173 msid:c187cbd4-98b2-464f-bf0c-bc9241a65933 8f7e8dbb-9ba6-4cb3-a672-551a379ef434\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:02:48.441 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1318144566 1 udp 2122260223 192.168.1.50 51406 typ host generation 0 ufrag 8SKy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '8SKy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:02:48.442 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1318144566 1 udp 2122260223 192.168.1.50 51586 typ host generation 0 ufrag 8SKy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '8SKy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:02:48.560 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:806317883 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 8SKy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '8SKy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:02:48.561 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:806317883 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 8SKy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '8SKy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:02:50.945 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'error', 'message_content': 'jie', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:03:47.062 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:03:47.063 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:03:47.063 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:03:47.787 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:03:47.787 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:03:47.788 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:03:47.879 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:03:47.879 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:03:47.879 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:03:48.090 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:03:49.004 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:03:50.198 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:03:50.409 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:03:50.409 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:03:50.409 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:03:51.902 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:03:51.903 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:03:51.903 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:03:53.935 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:03:58.014 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:04:02.856 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 444168547222330646 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS a97010e6-10ea-475c-8230-f3a5e245381b\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:zdbQ\r\na=ice-pwd:Mrh9jb5WIrtWcEcsy/34OOTC\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AF:CF:65:55:E5:44:03:79:E2:E7:2F:48:7E:8A:F0:7B:3F:A2:A9:FD:36:00:D9:11:0E:CF:7F:8F:3F:DC:FA:E4\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:a97010e6-10ea-475c-8230-f3a5e245381b 0ac258e3-391f-440f-b4ec-a20430522730\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:251376476 cname:r3V5It8PulxuYFJf\r\na=ssrc:251376476 msid:a97010e6-10ea-475c-8230-f3a5e245381b 0ac258e3-391f-440f-b4ec-a20430522730\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:zdbQ\r\na=ice-pwd:Mrh9jb5WIrtWcEcsy/34OOTC\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AF:CF:65:55:E5:44:03:79:E2:E7:2F:48:7E:8A:F0:7B:3F:A2:A9:FD:36:00:D9:11:0E:CF:7F:8F:3F:DC:FA:E4\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:a97010e6-10ea-475c-8230-f3a5e245381b 70f41766-a4e1-4447-aba0-d40f913b9c62\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 964526497 3592871685\r\na=ssrc:964526497 cname:r3V5It8PulxuYFJf\r\na=ssrc:964526497 msid:a97010e6-10ea-475c-8230-f3a5e245381b 70f41766-a4e1-4447-aba0-d40f913b9c62\r\na=ssrc:3592871685 cname:r3V5It8PulxuYFJf\r\na=ssrc:3592871685 msid:a97010e6-10ea-475c-8230-f3a5e245381b 70f41766-a4e1-4447-aba0-d40f913b9c62\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:04:02.858 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3519367818 1 udp 2122260223 192.168.1.50 52653 typ host generation 0 ufrag zdbQ network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'zdbQ'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:04:02.859 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3519367818 1 udp 2122260223 192.168.1.50 58931 typ host generation 0 ufrag zdbQ network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'zdbQ'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:04:02.980 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:795844126 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag zdbQ network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'zdbQ'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:04:02.981 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:795844126 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag zdbQ network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'zdbQ'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:04:07.008 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'error', 'message_content': '无法访问摄像头/麦克风', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:04:53.110 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:04:53.111 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:04:53.112 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:04:53.787 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:04:53.787 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:04:53.788 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:04:54.243 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:04:54.573 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:04:54.573 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:04:54.573 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:04:54.976 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:04:55.432 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:05:29.865 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:05:29.866 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:05:29.867 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:05:30.995 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:05:31.035 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:05:31.035 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:05:31.035 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:05:31.510 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:05:31.510 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:05:31.511 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:05:32.192 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:05:32.911 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:05:48.505 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:05:48.506 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:05:48.506 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:05:48.699 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:05:48.700 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:05:48.700 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:05:53.957 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:05:54.065 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:05:57.197 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2357172146790116326 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS ad3d8070-d653-42c4-b1ab-fdf10eafa551\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8KF3\r\na=ice-pwd:aQl3mRbbBsBpIm6ay3buCIZ9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 6F:86:87:8B:1F:F2:C1:66:46:42:F3:AD:F8:E2:73:6E:71:BE:4F:30:40:3B:11:0E:B2:C9:28:DD:BB:E7:9B:FE\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:ad3d8070-d653-42c4-b1ab-fdf10eafa551 865659dc-0194-4030-9983-99b6437067c4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1778065642 cname:d3StsCQTMfprQDJP\r\na=ssrc:1778065642 msid:ad3d8070-d653-42c4-b1ab-fdf10eafa551 865659dc-0194-4030-9983-99b6437067c4\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8KF3\r\na=ice-pwd:aQl3mRbbBsBpIm6ay3buCIZ9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 6F:86:87:8B:1F:F2:C1:66:46:42:F3:AD:F8:E2:73:6E:71:BE:4F:30:40:3B:11:0E:B2:C9:28:DD:BB:E7:9B:FE\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:ad3d8070-d653-42c4-b1ab-fdf10eafa551 2d45cef4-e3bc-4fa7-af16-f68bfd915ff1\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1950623585 138841286\r\na=ssrc:1950623585 cname:d3StsCQTMfprQDJP\r\na=ssrc:1950623585 msid:ad3d8070-d653-42c4-b1ab-fdf10eafa551 2d45cef4-e3bc-4fa7-af16-f68bfd915ff1\r\na=ssrc:138841286 cname:d3StsCQTMfprQDJP\r\na=ssrc:138841286 msid:ad3d8070-d653-42c4-b1ab-fdf10eafa551 2d45cef4-e3bc-4fa7-af16-f68bfd915ff1\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:05:57.199 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:270601212 1 udp 2122260223 192.168.1.50 55614 typ host generation 0 ufrag 8KF3 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '8KF3'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:05:57.200 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:270601212 1 udp 2122260223 192.168.1.50 51091 typ host generation 0 ufrag 8KF3 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '8KF3'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:05:57.315 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1861151076 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 8KF3 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '8KF3'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:05:57.317 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1861151076 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 8KF3 network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '8KF3'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:05:59.982 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'error', 'message_content': '对方拒绝访问摄像头/麦克风', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:07:44.219 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:07:44.220 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:07:44.221 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:07:45.133 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:07:45.133 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:07:45.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:07:45.181 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:07:45.182 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:07:45.182 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:07:45.494 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:07:46.131 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:07:47.079 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:07:48.692 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:07:48.692 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:07:48.693 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:07:55.868 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:07:55.869 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:07:55.870 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:08:00.760 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:08:43.641 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:08:43.641 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:08:43.642 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:08:44.242 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:08:44.242 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:08:44.243 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:08:44.760 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:08:46.129 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:02.008 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:02.008 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:02.008 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:08.391 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:28.226 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:28.226 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:28.227 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:30.752 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:30.752 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:30.753 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:31.669 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:33.163 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:35.778 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:35.778 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:35.778 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:37.322 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:53.891 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:53.902 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:53.902 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:55.058 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:55.058 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:55.058 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:55.061 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:55.472 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:55.473 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:55.473 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:09:56.478 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:57.667 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:09:59.920 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:09:59.922 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:09:59.922 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:10:00.818 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:10:15.347 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:10:15.348 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:10:15.348 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:10:18.864 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:10:23.600 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:10:30.306 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:10:30.307 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:10:30.308 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:10:34.530 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:10:38.588 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5776302457327695257 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 6f564489-f405-4244-8a59-d410e3e9c683\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:up8F\r\na=ice-pwd:ZTOvYt7CqKwFg9LR9EfIipkT\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:5C:5E:7D:DD:18:E0:5C:2F:53:64:35:64:82:70:2B:C1:DA:1E:12:4A:10:85:5B:82:60:05:3A:01:42:BF:66\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:6f564489-f405-4244-8a59-d410e3e9c683 9a304c30-f6e2-4068-a691-127a605ed9f0\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:22650445 cname:QnDMYDfxi/VzyF/d\r\na=ssrc:22650445 msid:6f564489-f405-4244-8a59-d410e3e9c683 9a304c30-f6e2-4068-a691-127a605ed9f0\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:up8F\r\na=ice-pwd:ZTOvYt7CqKwFg9LR9EfIipkT\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:5C:5E:7D:DD:18:E0:5C:2F:53:64:35:64:82:70:2B:C1:DA:1E:12:4A:10:85:5B:82:60:05:3A:01:42:BF:66\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:6f564489-f405-4244-8a59-d410e3e9c683 cef94b70-9c07-4e35-8e99-a2dc39137edf\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1942917610 1383400751\r\na=ssrc:1942917610 cname:QnDMYDfxi/VzyF/d\r\na=ssrc:1942917610 msid:6f564489-f405-4244-8a59-d410e3e9c683 cef94b70-9c07-4e35-8e99-a2dc39137edf\r\na=ssrc:1383400751 cname:QnDMYDfxi/VzyF/d\r\na=ssrc:1383400751 msid:6f564489-f405-4244-8a59-d410e3e9c683 cef94b70-9c07-4e35-8e99-a2dc39137edf\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:10:38.590 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1983666392 1 udp 2122260223 192.168.1.50 55035 typ host generation 0 ufrag up8F network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'up8F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:10:38.592 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1983666392 1 udp 2122260223 192.168.1.50 58009 typ host generation 0 ufrag up8F network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'up8F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:10:38.706 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:150190656 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag up8F network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'up8F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:10:38.708 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:150190656 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag up8F network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'up8F'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:10:41.663 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'error', 'message_content': '对方拒绝访问摄像头/麦克风', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:11:51.118 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:11:51.119 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:11:51.120 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:11:51.218 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:11:51.218 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:11:51.219 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:11:54.496 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:11:56.566 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:11:59.789 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 9177624885161800426 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 9ff9bb1f-795b-42a7-8078-0741319ac3f1\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3atl\r\na=ice-pwd:AE/UGDh9Wu2+rADl8SgtKRnz\r\na=ice-options:trickle\r\na=fingerprint:sha-256 89:AC:F9:55:06:D8:BC:83:AA:D1:A7:FD:A8:C2:6F:59:CB:9A:86:CB:0C:45:2D:BA:63:3D:6F:26:68:9D:D2:F4\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:9ff9bb1f-795b-42a7-8078-0741319ac3f1 d637531e-4463-4c0c-9fe2-684edac34bcc\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:427313524 cname:IiqBOCaoie2K0vp8\r\na=ssrc:427313524 msid:9ff9bb1f-795b-42a7-8078-0741319ac3f1 d637531e-4463-4c0c-9fe2-684edac34bcc\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:3atl\r\na=ice-pwd:AE/UGDh9Wu2+rADl8SgtKRnz\r\na=ice-options:trickle\r\na=fingerprint:sha-256 89:AC:F9:55:06:D8:BC:83:AA:D1:A7:FD:A8:C2:6F:59:CB:9A:86:CB:0C:45:2D:BA:63:3D:6F:26:68:9D:D2:F4\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:9ff9bb1f-795b-42a7-8078-0741319ac3f1 a2c87286-d800-4a71-942e-d800b252e109\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 741918767 559504181\r\na=ssrc:741918767 cname:IiqBOCaoie2K0vp8\r\na=ssrc:741918767 msid:9ff9bb1f-795b-42a7-8078-0741319ac3f1 a2c87286-d800-4a71-942e-d800b252e109\r\na=ssrc:559504181 cname:IiqBOCaoie2K0vp8\r\na=ssrc:559504181 msid:9ff9bb1f-795b-42a7-8078-0741319ac3f1 a2c87286-d800-4a71-942e-d800b252e109\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:11:59.795 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3600851684 1 udp 2122260223 192.168.1.50 50262 typ host generation 0 ufrag 3atl network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3atl'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:11:59.798 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3600851684 1 udp 2122260223 192.168.1.50 55006 typ host generation 0 ufrag 3atl network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '3atl'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:11:59.914 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2825863292 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 3atl network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '3atl'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:11:59.915 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2825863292 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 3atl network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '3atl'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:12:02.258 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 7529016947376544770 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS afee4800-79fe-4b68-addb-1b29cfe08e3a\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VGpz\r\na=ice-pwd:y42EbkgaAkJynYR4dX0q3K8/\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F9:CD:F9:BA:DA:28:C6:3A:38:90:38:44:08:15:10:F3:EA:E3:5E:6C:96:8E:E5:FE:5E:C7:51:D4:B7:32:3E:17\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:afee4800-79fe-4b68-addb-1b29cfe08e3a af149537-890e-4909-ba74-e2cb6c233341\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1579614959 cname:oAdJOLxyi4R7l7ni\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VGpz\r\na=ice-pwd:y42EbkgaAkJynYR4dX0q3K8/\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F9:CD:F9:BA:DA:28:C6:3A:38:90:38:44:08:15:10:F3:EA:E3:5E:6C:96:8E:E5:FE:5E:C7:51:D4:B7:32:3E:17\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:afee4800-79fe-4b68-addb-1b29cfe08e3a 7058563a-792a-4865-ba3b-0705d24cae0e\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1510338442 750757158\r\na=ssrc:1510338442 cname:oAdJOLxyi4R7l7ni\r\na=ssrc:750757158 cname:oAdJOLxyi4R7l7ni\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:12:02.260 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:846742233 1 udp 2113937151 192.168.1.205 58359 typ host generation 0 ufrag VGpz network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'VGpz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:12:07.489 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:12:07.491 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:12:07.492 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:12:07.492 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:12:07.732 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:12:07.732 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:12:07.732 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:16:51.686 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:16:51.687 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:16:51.687 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:16:52.856 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:16:54.156 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:16:54.629 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:17:04.296 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:17:04.297 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:17:04.297 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:17:04.652 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:17:06.253 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:17:06.253 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:17:06.253 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:17:07.017 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:17:07.017 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:17:07.017 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:17:07.332 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:17:07.945 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:17:08.430 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:17:08.430 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:17:08.431 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:17:11.555 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:17:11.555 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:17:11.555 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:17:14.563 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:17:15.677 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4182932537774992030 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 0eb823a1-2533-43f4-827e-c3e022a8793c\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:5MoZ\r\na=ice-pwd:iKJM8MMDW6TWSFkjCs4o+ODV\r\na=ice-options:trickle\r\na=fingerprint:sha-256 6D:5A:F4:8A:30:4D:07:A3:D4:A5:35:C7:97:95:6A:1D:00:D2:76:C2:3D:1F:21:FF:7A:97:0F:4D:81:60:82:30\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:0eb823a1-2533-43f4-827e-c3e022a8793c 3acef570-6a6e-4075-8e02-f1db68f2ccf3\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2089101873 cname:LVH3N6H4B/4N3+0C\r\na=ssrc:2089101873 msid:0eb823a1-2533-43f4-827e-c3e022a8793c 3acef570-6a6e-4075-8e02-f1db68f2ccf3\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:5MoZ\r\na=ice-pwd:iKJM8MMDW6TWSFkjCs4o+ODV\r\na=ice-options:trickle\r\na=fingerprint:sha-256 6D:5A:F4:8A:30:4D:07:A3:D4:A5:35:C7:97:95:6A:1D:00:D2:76:C2:3D:1F:21:FF:7A:97:0F:4D:81:60:82:30\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:0eb823a1-2533-43f4-827e-c3e022a8793c 1bd67997-72b9-4aeb-bf61-a37741726667\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 176730114 1075962656\r\na=ssrc:176730114 cname:LVH3N6H4B/4N3+0C\r\na=ssrc:176730114 msid:0eb823a1-2533-43f4-827e-c3e022a8793c 1bd67997-72b9-4aeb-bf61-a37741726667\r\na=ssrc:1075962656 cname:LVH3N6H4B/4N3+0C\r\na=ssrc:1075962656 msid:0eb823a1-2533-43f4-827e-c3e022a8793c 1bd67997-72b9-4aeb-bf61-a37741726667\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:15.682 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:17:15.683 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1786473386 1 udp 2113937151 192.168.1.205 47903 typ host generation 0 ufrag 5MoZ network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '5MoZ'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:15.683 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:17:15.683 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1786473386 1 udp 2113937151 192.168.1.205 34979 typ host generation 0 ufrag 5MoZ network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '5MoZ'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:15.683 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:17:23.251 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:17:26.547 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5808936800034078650 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS dd71c0fc-c50b-45c4-a357-3f7ac4375bda\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:g4UX\r\na=ice-pwd:VtutqWq/OunZa+Ytf5OcJyhL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D3:61:18:FB:70:84:04:1A:94:7C:7B:D4:EC:FA:F9:9C:65:EA:BA:1B:EC:6C:3F:98:89:DE:2A:E4:0D:99:B1:A5\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:dd71c0fc-c50b-45c4-a357-3f7ac4375bda c41eeff2-e8a9-48c4-a0b1-4ab8da933040\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3389711457 cname:Ague35gPVALohERH\r\na=ssrc:3389711457 msid:dd71c0fc-c50b-45c4-a357-3f7ac4375bda c41eeff2-e8a9-48c4-a0b1-4ab8da933040\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:g4UX\r\na=ice-pwd:VtutqWq/OunZa+Ytf5OcJyhL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D3:61:18:FB:70:84:04:1A:94:7C:7B:D4:EC:FA:F9:9C:65:EA:BA:1B:EC:6C:3F:98:89:DE:2A:E4:0D:99:B1:A5\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:dd71c0fc-c50b-45c4-a357-3f7ac4375bda 770d14cc-b3bf-4773-a92b-502e5968af86\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4097195896 2740354365\r\na=ssrc:4097195896 cname:Ague35gPVALohERH\r\na=ssrc:4097195896 msid:dd71c0fc-c50b-45c4-a357-3f7ac4375bda 770d14cc-b3bf-4773-a92b-502e5968af86\r\na=ssrc:2740354365 cname:Ague35gPVALohERH\r\na=ssrc:2740354365 msid:dd71c0fc-c50b-45c4-a357-3f7ac4375bda 770d14cc-b3bf-4773-a92b-502e5968af86\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:26.559 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:660592694 1 udp 2113937151 192.168.1.205 42707 typ host generation 0 ufrag g4UX network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'g4UX'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:26.560 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:660592694 1 udp 2113937151 192.168.1.205 36111 typ host generation 0 ufrag g4UX network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'g4UX'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:27.308 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 1604460894679109681 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS abb89704-9ddd-4891-acd7-a4b2c6526b55\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:dn6N\r\na=ice-pwd:v/bGNADs+Jhd7oDM6yWjoBZb\r\na=ice-options:trickle\r\na=fingerprint:sha-256 51:8D:46:CD:20:B9:13:D2:26:1D:2E:4D:5A:72:7D:F3:B0:F1:69:91:3C:57:6C:5A:D7:61:68:21:A6:2E:1D:F6\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:abb89704-9ddd-4891-acd7-a4b2c6526b55 f4218610-5261-48c9-afa8-e5d1113d9545\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3544671733 cname:BRFcwaZlbpDskgzi\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:dn6N\r\na=ice-pwd:v/bGNADs+Jhd7oDM6yWjoBZb\r\na=ice-options:trickle\r\na=fingerprint:sha-256 51:8D:46:CD:20:B9:13:D2:26:1D:2E:4D:5A:72:7D:F3:B0:F1:69:91:3C:57:6C:5A:D7:61:68:21:A6:2E:1D:F6\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:abb89704-9ddd-4891-acd7-a4b2c6526b55 9e739d88-a883-40f6-bc86-5f4f942dcfce\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3607057417 459400708\r\na=ssrc:3607057417 cname:BRFcwaZlbpDskgzi\r\na=ssrc:459400708 cname:BRFcwaZlbpDskgzi\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:27.315 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2194763101 1 udp 2122260223 192.168.1.50 60824 typ host generation 0 ufrag dn6N network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'dn6N'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:27.436 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4229861317 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag dn6N network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'dn6N'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:36.055 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:38.127 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2249846113648225966 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 614a0ccc-11b7-4872-a58a-72624020ea30\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:lwAi\r\na=ice-pwd:/ecqC2DkfIVxAmSiOk/HIpv/\r\na=ice-options:trickle\r\na=fingerprint:sha-256 67:07:8A:08:5D:B3:D7:1B:A3:71:1C:6A:E2:34:19:8B:C1:B0:7B:95:69:4B:5C:EF:58:0C:C8:62:B3:F2:38:3A\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:614a0ccc-11b7-4872-a58a-72624020ea30 3da80bac-0c68-4bd2-a144-d0a40375972a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3334335028 cname:WA1WrxRZmLSjB+RC\r\na=ssrc:3334335028 msid:614a0ccc-11b7-4872-a58a-72624020ea30 3da80bac-0c68-4bd2-a144-d0a40375972a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:lwAi\r\na=ice-pwd:/ecqC2DkfIVxAmSiOk/HIpv/\r\na=ice-options:trickle\r\na=fingerprint:sha-256 67:07:8A:08:5D:B3:D7:1B:A3:71:1C:6A:E2:34:19:8B:C1:B0:7B:95:69:4B:5C:EF:58:0C:C8:62:B3:F2:38:3A\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:614a0ccc-11b7-4872-a58a-72624020ea30 9fdd2d44-3efb-4f9d-b183-f71780b3df52\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2784219001 2460851165\r\na=ssrc:2784219001 cname:WA1WrxRZmLSjB+RC\r\na=ssrc:2784219001 msid:614a0ccc-11b7-4872-a58a-72624020ea30 9fdd2d44-3efb-4f9d-b183-f71780b3df52\r\na=ssrc:2460851165 cname:WA1WrxRZmLSjB+RC\r\na=ssrc:2460851165 msid:614a0ccc-11b7-4872-a58a-72624020ea30 9fdd2d44-3efb-4f9d-b183-f71780b3df52\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:38.138 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2991256267 1 udp 2122260223 192.168.1.50 62160 typ host generation 0 ufrag lwAi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'lwAi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:38.160 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2991256267 1 udp 2122260223 192.168.1.50 54417 typ host generation 0 ufrag lwAi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'lwAi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:38.255 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3431272531 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag lwAi network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'lwAi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:38.256 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3431272531 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag lwAi network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'lwAi'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:39.238 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 8786019668290799644 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 2d9adfec-f381-4e72-b354-b63fa5fbbf99\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:nt1V\r\na=ice-pwd:z7FCiNFAHFi/tmkZ52caChK2\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D0:C1:D1:74:70:B8:F2:F9:96:EC:B2:EB:74:8F:6A:40:F9:B8:5B:73:5E:18:6B:71:1C:C2:BC:57:48:E7:5B:B4\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:2d9adfec-f381-4e72-b354-b63fa5fbbf99 c603201f-6688-42a0-b0a7-2ca4ed1b63cf\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1321193524 cname:UXDkeir15W7cbc1E\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:nt1V\r\na=ice-pwd:z7FCiNFAHFi/tmkZ52caChK2\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D0:C1:D1:74:70:B8:F2:F9:96:EC:B2:EB:74:8F:6A:40:F9:B8:5B:73:5E:18:6B:71:1C:C2:BC:57:48:E7:5B:B4\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:2d9adfec-f381-4e72-b354-b63fa5fbbf99 bd949e00-2a20-4c09-8e5b-cb8da0922314\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 586034412 2065337530\r\na=ssrc:586034412 cname:UXDkeir15W7cbc1E\r\na=ssrc:2065337530 cname:UXDkeir15W7cbc1E\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:39.239 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4159843544 1 udp 2113937151 192.168.1.205 38468 typ host generation 0 ufrag nt1V network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'nt1V'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:17:42.954 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:17:46.610 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:17:46.610 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:17:46.611 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:27:49.957 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:27:49.960 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:27:49.960 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:27:51.192 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:27:51.888 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:27:51.889 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:27:51.890 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:27:53.060 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:28:51.685 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:28:51.697 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:28:51.698 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:28:52.848 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:28:54.007 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:28:54.007 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:28:54.007 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:28:54.328 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:29:35.833 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:29:35.834 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:29:35.834 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:29:37.163 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:29:38.968 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:29:38.968 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:29:38.969 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:29:40.001 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:30:01.918 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:30:01.920 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:30:01.920 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:30:03.079 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:30:03.667 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:30:03.668 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:30:03.668 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:30:04.571 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:31:24.691 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:31:24.691 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:31:24.691 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:31:26.253 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:31:26.253 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:31:26.254 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:31:53.946 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:32:14.949 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:32:27.807 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1796665904762073173 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 38b70ffc-a13c-4dad-9e3b-1134b6051060\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JksM\r\na=ice-pwd:XKSzLVMvV3nEmTC2iDHDuN6K\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AA:55:9C:15:4F:F0:00:52:45:7B:8A:40:C0:56:73:67:D6:04:E1:17:C6:91:3C:CE:39:EA:34:90:0B:4F:F5:C4\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:38b70ffc-a13c-4dad-9e3b-1134b6051060 e523c198-af7e-4c05-a3ab-7c6c8542cdce\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2409762352 cname:Ow4Jv63SYN1iYNZY\r\na=ssrc:2409762352 msid:38b70ffc-a13c-4dad-9e3b-1134b6051060 e523c198-af7e-4c05-a3ab-7c6c8542cdce\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JksM\r\na=ice-pwd:XKSzLVMvV3nEmTC2iDHDuN6K\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AA:55:9C:15:4F:F0:00:52:45:7B:8A:40:C0:56:73:67:D6:04:E1:17:C6:91:3C:CE:39:EA:34:90:0B:4F:F5:C4\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:38b70ffc-a13c-4dad-9e3b-1134b6051060 6a6182f8-dad3-40d9-81cf-62e51faf2586\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3533763364 989365311\r\na=ssrc:3533763364 cname:Ow4Jv63SYN1iYNZY\r\na=ssrc:3533763364 msid:38b70ffc-a13c-4dad-9e3b-1134b6051060 6a6182f8-dad3-40d9-81cf-62e51faf2586\r\na=ssrc:989365311 cname:Ow4Jv63SYN1iYNZY\r\na=ssrc:989365311 msid:38b70ffc-a13c-4dad-9e3b-1134b6051060 6a6182f8-dad3-40d9-81cf-62e51faf2586\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:32:31.939 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 2957359897528513796 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 9763127b-6309-4bfa-8a69-2c2c3312489c\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:+ldw\r\na=ice-pwd:EJTix5KAl6Zh5vy7UjYeJaZk\r\na=ice-options:trickle\r\na=fingerprint:sha-256 99:E7:45:E6:EE:F0:CF:F3:E9:F9:72:4E:6E:B4:F0:4D:21:9C:8D:FD:69:E1:49:78:A0:91:C0:0C:2F:02:F4:4F\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:9763127b-6309-4bfa-8a69-2c2c3312489c 9797dbe6-e3da-4b59-a0e5-8fd91f946c7a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:4198221991 cname:beteh1yF3/qhCubf\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:+ldw\r\na=ice-pwd:EJTix5KAl6Zh5vy7UjYeJaZk\r\na=ice-options:trickle\r\na=fingerprint:sha-256 99:E7:45:E6:EE:F0:CF:F3:E9:F9:72:4E:6E:B4:F0:4D:21:9C:8D:FD:69:E1:49:78:A0:91:C0:0C:2F:02:F4:4F\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:9763127b-6309-4bfa-8a69-2c2c3312489c f75618b1-9e8b-4089-af99-e85d6f69d6de\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 549760410 800581924\r\na=ssrc:549760410 cname:beteh1yF3/qhCubf\r\na=ssrc:800581924 cname:beteh1yF3/qhCubf\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:33:30.621 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:33:30.624 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:33:30.627 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:33:31.527 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:33:31.527 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:33:31.528 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:33:31.798 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:33:32.485 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:34:06.285 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:34:06.286 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:34:06.286 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:34:06.600 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:34:06.601 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:34:06.601 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:34:07.560 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:34:07.561 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:34:10.139 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:34:10.139 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:34:10.139 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:34:14.158 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:34:15.987 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2354823566030395310 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 4cae131c-0d58-4a34-a148-6b559751ed61\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:I3Uk\r\na=ice-pwd:KMOFqoVeALkVRTgNCMKfwgzK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D1:F0:7C:40:7C:CD:7D:6D:6D:31:BE:A6:F1:78:47:94:12:4F:F5:11:A8:42:F5:9A:62:2C:FC:F8:A2:85:DE:DF\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:4cae131c-0d58-4a34-a148-6b559751ed61 e8fb00de-64af-40a6-a3f7-31525a166cbc\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3611477568 cname:co1kwA+RZTSx5KNS\r\na=ssrc:3611477568 msid:4cae131c-0d58-4a34-a148-6b559751ed61 e8fb00de-64af-40a6-a3f7-31525a166cbc\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:I3Uk\r\na=ice-pwd:KMOFqoVeALkVRTgNCMKfwgzK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D1:F0:7C:40:7C:CD:7D:6D:6D:31:BE:A6:F1:78:47:94:12:4F:F5:11:A8:42:F5:9A:62:2C:FC:F8:A2:85:DE:DF\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:4cae131c-0d58-4a34-a148-6b559751ed61 263bd67e-4dbd-4d24-939b-b7ebfadd35bb\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2142611681 1150199259\r\na=ssrc:2142611681 cname:co1kwA+RZTSx5KNS\r\na=ssrc:2142611681 msid:4cae131c-0d58-4a34-a148-6b559751ed61 263bd67e-4dbd-4d24-939b-b7ebfadd35bb\r\na=ssrc:1150199259 cname:co1kwA+RZTSx5KNS\r\na=ssrc:1150199259 msid:4cae131c-0d58-4a34-a148-6b559751ed61 263bd67e-4dbd-4d24-939b-b7ebfadd35bb\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:34:15.990 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2484273895 1 udp 2113937151 192.168.1.205 46746 typ host generation 0 ufrag I3Uk network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'I3Uk'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:34:15.991 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2484273895 1 udp 2113937151 192.168.1.205 38536 typ host generation 0 ufrag I3Uk network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'I3Uk'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:34:16.744 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 5269365887403573743 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS e440d8f8-2687-486a-bef8-fc6fefa2be0c\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1XO2\r\na=ice-pwd:DhzN62bWOQ6wPQYFpsL2QKmK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FC:43:6D:F6:39:64:28:A9:16:A9:D9:6B:69:0C:65:85:D9:BF:F3:1F:88:B8:1A:EA:2B:9B:6B:A9:17:87:EB:E6\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:e440d8f8-2687-486a-bef8-fc6fefa2be0c 9eef7d57-be93-4eb0-9e3b-e08779429948\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:661935001 cname:/+GU9Y5D8BVu1je8\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1XO2\r\na=ice-pwd:DhzN62bWOQ6wPQYFpsL2QKmK\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FC:43:6D:F6:39:64:28:A9:16:A9:D9:6B:69:0C:65:85:D9:BF:F3:1F:88:B8:1A:EA:2B:9B:6B:A9:17:87:EB:E6\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:e440d8f8-2687-486a-bef8-fc6fefa2be0c a677c809-fa1f-44bb-9325-44161ffc8714\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2006712684 2851258914\r\na=ssrc:2006712684 cname:/+GU9Y5D8BVu1je8\r\na=ssrc:2851258914 cname:/+GU9Y5D8BVu1je8\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:34:16.745 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2599237569 1 udp 2122260223 192.168.1.50 52096 typ host generation 0 ufrag 1XO2 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '1XO2'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:34:16.857 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3827488089 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag 1XO2 network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '1XO2'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:34:25.343 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:34:25.343 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:34:25.344 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:34:27.762 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:34:27.762 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-16 17:34:40.950 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:34:40.951 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:34:40.952 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:34:41.958 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:40:03.238 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:40:03.243 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:40:03.243 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:40:04.296 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:40:32.755 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:40:32.756 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:40:32.757 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:40:34.546 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:40:35.536 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:40:35.536 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:40:35.536 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:40:40.806 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:40:46.703 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:40:46.704 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:40:46.704 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:40:49.670 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:41:00.498 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:41:04.060 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 260985424192535956 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS d1100708-ecd2-4f3a-b7fd-a8750724ecd2\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:CT/e\r\na=ice-pwd:n9xFG811BuCZIkoheJvCRztZ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 84:06:7A:3D:87:DD:61:60:89:47:77:C2:55:47:C7:C4:A5:2B:6E:CF:74:74:2B:0E:32:9B:CA:6E:85:2C:47:9D\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:d1100708-ecd2-4f3a-b7fd-a8750724ecd2 f1a238da-cccb-4a05-a5c1-4db3215bc77e\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2034772134 cname:ZZvnWmv0DSsU4VQV\r\na=ssrc:2034772134 msid:d1100708-ecd2-4f3a-b7fd-a8750724ecd2 f1a238da-cccb-4a05-a5c1-4db3215bc77e\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:CT/e\r\na=ice-pwd:n9xFG811BuCZIkoheJvCRztZ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 84:06:7A:3D:87:DD:61:60:89:47:77:C2:55:47:C7:C4:A5:2B:6E:CF:74:74:2B:0E:32:9B:CA:6E:85:2C:47:9D\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:d1100708-ecd2-4f3a-b7fd-a8750724ecd2 8c1f2006-7ef4-480e-8c92-43c21a7962b1\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1739646426 2108446823\r\na=ssrc:1739646426 cname:ZZvnWmv0DSsU4VQV\r\na=ssrc:1739646426 msid:d1100708-ecd2-4f3a-b7fd-a8750724ecd2 8c1f2006-7ef4-480e-8c92-43c21a7962b1\r\na=ssrc:2108446823 cname:ZZvnWmv0DSsU4VQV\r\na=ssrc:2108446823 msid:d1100708-ecd2-4f3a-b7fd-a8750724ecd2 8c1f2006-7ef4-480e-8c92-43c21a7962b1\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:41:04.063 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2656975181 1 udp 2113937151 192.168.1.205 57246 typ host generation 0 ufrag CT/e network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'CT/e'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:41:04.063 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2656975181 1 udp 2113937151 192.168.1.205 55819 typ host generation 0 ufrag CT/e network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'CT/e'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:41:07.136 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 3953066194997037524 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS bace4d75-4361-4942-b39d-01e9484e9c72\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:kURh\r\na=ice-pwd:CG9giISHsNg+BEUyXDXC+Clq\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:C8:BE:70:E7:09:3A:C4:5E:58:90:4E:D0:0C:3E:78:B8:FC:8B:6B:D4:9A:2C:ED:BF:ED:9C:A0:1B:7E:A6:8E\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:bace4d75-4361-4942-b39d-01e9484e9c72 e6594940-9cd9-4a68-9d6b-c34e0f028582\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1079350697 cname:QCitcKXvtt5jKWMK\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:kURh\r\na=ice-pwd:CG9giISHsNg+BEUyXDXC+Clq\r\na=ice-options:trickle\r\na=fingerprint:sha-256 D7:C8:BE:70:E7:09:3A:C4:5E:58:90:4E:D0:0C:3E:78:B8:FC:8B:6B:D4:9A:2C:ED:BF:ED:9C:A0:1B:7E:A6:8E\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:bace4d75-4361-4942-b39d-01e9484e9c72 73e57b35-096b-40ed-84f1-394783e5531b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3963472360 1660409952\r\na=ssrc:3963472360 cname:QCitcKXvtt5jKWMK\r\na=ssrc:1660409952 cname:QCitcKXvtt5jKWMK\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:07.137 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1881020647 1 udp 2122260223 192.168.1.50 54806 typ host generation 0 ufrag kURh network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'kURh'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:07.251 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:248642175 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag kURh network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'kURh'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:19.089 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:41:27.355 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:41:27.356 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:41:27.356 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:41:34.632 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-16 17:41:35.360 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 5740631677515713614 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS e915c07d-a611-4f7a-8e05-893fee5821ce\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:xQIH\r\na=ice-pwd:+6698q04RJ3+ITyqYANpDRC2\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:58:36:EA:A6:9E:C8:97:F1:AF:8D:6B:E0:E9:0A:88:93:9B:7C:97:21:24:C1:57:63:54:9B:AB:B8:78:FB:2C\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:e915c07d-a611-4f7a-8e05-893fee5821ce 1ab5ad20-f62c-4746-bdd9-5a4d0f5b9e57\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1882257959 cname:3Dl31cMjv5Fzmuwv\r\na=ssrc:1882257959 msid:e915c07d-a611-4f7a-8e05-893fee5821ce 1ab5ad20-f62c-4746-bdd9-5a4d0f5b9e57\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:xQIH\r\na=ice-pwd:+6698q04RJ3+ITyqYANpDRC2\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:58:36:EA:A6:9E:C8:97:F1:AF:8D:6B:E0:E9:0A:88:93:9B:7C:97:21:24:C1:57:63:54:9B:AB:B8:78:FB:2C\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:e915c07d-a611-4f7a-8e05-893fee5821ce 87dc891a-6d49-4b7d-9f54-eebf83e69ad6\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1926270781 73530012\r\na=ssrc:1926270781 cname:3Dl31cMjv5Fzmuwv\r\na=ssrc:1926270781 msid:e915c07d-a611-4f7a-8e05-893fee5821ce 87dc891a-6d49-4b7d-9f54-eebf83e69ad6\r\na=ssrc:73530012 cname:3Dl31cMjv5Fzmuwv\r\na=ssrc:73530012 msid:e915c07d-a611-4f7a-8e05-893fee5821ce 87dc891a-6d49-4b7d-9f54-eebf83e69ad6\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:35.363 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2448315460 1 udp 2122260223 192.168.1.50 56674 typ host generation 0 ufrag xQIH network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'xQIH'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:35.364 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2448315460 1 udp 2122260223 192.168.1.50 62387 typ host generation 0 ufrag xQIH network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'xQIH'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:35.466 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4011964124 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag xQIH network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'xQIH'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:35.469 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4011964124 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag xQIH network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'xQIH'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:41:37.801 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 8146083184216089477 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS fb404bd4-cb93-46f7-8d10-00df72fceaa4\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:yY/P\r\na=ice-pwd:AtgYAjBNuejMKJbS8IoT2J6a\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1E:08:30:87:2F:27:3C:E2:6D:DB:B3:85:55:B0:84:26:CA:D7:FB:46:C9:0D:1C:7E:5F:32:68:C2:CD:37:8A:4A\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:fb404bd4-cb93-46f7-8d10-00df72fceaa4 da817fa0-fd22-4740-ac2e-e29e6422655d\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3979977370 cname:yrSnT1QhcYh4CPBK\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 98 99 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:yY/P\r\na=ice-pwd:AtgYAjBNuejMKJbS8IoT2J6a\r\na=ice-options:trickle\r\na=fingerprint:sha-256 1E:08:30:87:2F:27:3C:E2:6D:DB:B3:85:55:B0:84:26:CA:D7:FB:46:C9:0D:1C:7E:5F:32:68:C2:CD:37:8A:4A\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:fb404bd4-cb93-46f7-8d10-00df72fceaa4 83a8db73-a034-42fa-bef4-1cb455454179\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 profile-id=1\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3018803628 3813403430\r\na=ssrc:3018803628 cname:yrSnT1QhcYh4CPBK\r\na=ssrc:3813403430 cname:yrSnT1QhcYh4CPBK\r\n', 'type': 'answer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:41:37.815 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1252066140 1 udp 2113937151 192.168.1.205 35945 typ host generation 0 ufrag yY/P network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'yY/P'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:42:54.999 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:42:58.748 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 227031422426409721 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 75872c34-84b4-4631-90f4-72637dca1db8\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:onL7\r\na=ice-pwd:qb6hvss5I6WJ9RQUDyd4Ktg1\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C3:48:13:0D:1A:65:2A:63:2C:EE:C4:1C:D7:EF:F0:43:49:9F:F0:E4:FB:68:89:83:70:41:E0:C4:C0:A8:CF:94\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:75872c34-84b4-4631-90f4-72637dca1db8 d55dfa20-5061-4454-9e18-4e2313b5926a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2217540946 cname:ny2659g2GygBfUHA\r\na=ssrc:2217540946 msid:75872c34-84b4-4631-90f4-72637dca1db8 d55dfa20-5061-4454-9e18-4e2313b5926a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:onL7\r\na=ice-pwd:qb6hvss5I6WJ9RQUDyd4Ktg1\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C3:48:13:0D:1A:65:2A:63:2C:EE:C4:1C:D7:EF:F0:43:49:9F:F0:E4:FB:68:89:83:70:41:E0:C4:C0:A8:CF:94\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:75872c34-84b4-4631-90f4-72637dca1db8 6018ff49-33b6-4038-ada1-0f06ec293581\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 662369574 648605734\r\na=ssrc:662369574 cname:ny2659g2GygBfUHA\r\na=ssrc:662369574 msid:75872c34-84b4-4631-90f4-72637dca1db8 6018ff49-33b6-4038-ada1-0f06ec293581\r\na=ssrc:648605734 cname:ny2659g2GygBfUHA\r\na=ssrc:648605734 msid:75872c34-84b4-4631-90f4-72637dca1db8 6018ff49-33b6-4038-ada1-0f06ec293581\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:42:58.749 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2219404164 1 udp 2113937151 192.168.1.205 56813 typ host generation 0 ufrag onL7 network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'onL7'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:42:58.749 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2219404164 1 udp 2113937151 192.168.1.205 37785 typ host generation 0 ufrag onL7 network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'onL7'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:42:59.455 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 1785998810617078787 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS ee54ae19-fa50-48ad-9050-0d4f7c211b52\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Nzov\r\na=ice-pwd:LGe0tiAzOahi9CxXexRTB+7r\r\na=ice-options:trickle\r\na=fingerprint:sha-256 53:CD:54:26:2C:89:78:0D:8A:31:D4:AE:13:5D:56:E2:E4:85:D1:B0:0E:69:BF:5F:6C:39:99:0A:2B:90:2F:49\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:ee54ae19-fa50-48ad-9050-0d4f7c211b52 a22e70de-4503-436f-9778-daf9cebae7f7\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3250616835 cname:TMaSCbhNqnnbBgMP\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Nzov\r\na=ice-pwd:LGe0tiAzOahi9CxXexRTB+7r\r\na=ice-options:trickle\r\na=fingerprint:sha-256 53:CD:54:26:2C:89:78:0D:8A:31:D4:AE:13:5D:56:E2:E4:85:D1:B0:0E:69:BF:5F:6C:39:99:0A:2B:90:2F:49\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:ee54ae19-fa50-48ad-9050-0d4f7c211b52 ecccb739-c64f-4eab-8273-b1874c74c910\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3613002176 2330713280\r\na=ssrc:3613002176 cname:TMaSCbhNqnnbBgMP\r\na=ssrc:2330713280 cname:TMaSCbhNqnnbBgMP\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:42:59.455 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1373179944 1 udp 2122260223 192.168.1.50 60236 typ host generation 0 ufrag Nzov network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Nzov'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:42:59.582 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:790033072 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Nzov network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Nzov'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:03.947 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:06.540 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 9138495252582639176 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS d7e5eeaf-6ffd-4bb4-a065-fe7be090b258\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:hu6C\r\na=ice-pwd:MR9kYiooM5dRF4C3p4NjgOlr\r\na=ice-options:trickle\r\na=fingerprint:sha-256 35:66:DE:AB:78:50:48:E5:0A:F6:E7:91:37:4D:27:7A:83:5F:5D:E5:A5:0B:F6:13:75:CF:13:14:87:7D:71:8A\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:d7e5eeaf-6ffd-4bb4-a065-fe7be090b258 0953a863-347f-4d75-9b56-81cacb886a0f\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1389142412 cname:FkfomIv1iRTS7EU1\r\na=ssrc:1389142412 msid:d7e5eeaf-6ffd-4bb4-a065-fe7be090b258 0953a863-347f-4d75-9b56-81cacb886a0f\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:hu6C\r\na=ice-pwd:MR9kYiooM5dRF4C3p4NjgOlr\r\na=ice-options:trickle\r\na=fingerprint:sha-256 35:66:DE:AB:78:50:48:E5:0A:F6:E7:91:37:4D:27:7A:83:5F:5D:E5:A5:0B:F6:13:75:CF:13:14:87:7D:71:8A\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:d7e5eeaf-6ffd-4bb4-a065-fe7be090b258 90defff2-fc81-4415-ac25-9e506580f2e8\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3128878744 3802332595\r\na=ssrc:3128878744 cname:FkfomIv1iRTS7EU1\r\na=ssrc:3128878744 msid:d7e5eeaf-6ffd-4bb4-a065-fe7be090b258 90defff2-fc81-4415-ac25-9e506580f2e8\r\na=ssrc:3802332595 cname:FkfomIv1iRTS7EU1\r\na=ssrc:3802332595 msid:d7e5eeaf-6ffd-4bb4-a065-fe7be090b258 90defff2-fc81-4415-ac25-9e506580f2e8\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:06.544 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1083387368 1 udp 2113937151 192.168.1.205 50721 typ host generation 0 ufrag hu6C network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'hu6C'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:06.544 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1083387368 1 udp 2113937151 192.168.1.205 39052 typ host generation 0 ufrag hu6C network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'hu6C'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:07.244 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 8785428921329809419 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 61fbebbd-71c6-41bb-b386-5a900b930e07\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wmYp\r\na=ice-pwd:PFET4j/xvI4Q9RWCMq8LcpBL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AF:2C:D0:44:60:1F:AE:FE:F1:E6:5A:BB:FA:65:2A:32:DE:10:25:08:B7:E4:BE:51:90:A1:AE:49:AF:4A:E8:C0\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:61fbebbd-71c6-41bb-b386-5a900b930e07 e2755a37-c5b1-45b1-bf82-028a5ea673c4\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:224935048 cname:7HfOwFCfuaKU+5dy\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:wmYp\r\na=ice-pwd:PFET4j/xvI4Q9RWCMq8LcpBL\r\na=ice-options:trickle\r\na=fingerprint:sha-256 AF:2C:D0:44:60:1F:AE:FE:F1:E6:5A:BB:FA:65:2A:32:DE:10:25:08:B7:E4:BE:51:90:A1:AE:49:AF:4A:E8:C0\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:61fbebbd-71c6-41bb-b386-5a900b930e07 816e5aa5-1ecf-4a61-a6f0-8ad679319ce7\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 3538296414 1111527235\r\na=ssrc:3538296414 cname:7HfOwFCfuaKU+5dy\r\na=ssrc:1111527235 cname:7HfOwFCfuaKU+5dy\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:07.244 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4209158914 1 udp 2122260223 192.168.1.50 50599 typ host generation 0 ufrag wmYp network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wmYp'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:07.360 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2217560474 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag wmYp network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'wmYp'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:12.098 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'endCall', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:17.153 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:43:17.153 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:43:17.153 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:43:21.965 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:43:23.736 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 7160512318765725662 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS e97f0107-4e9d-4869-a3a9-5db239e17d36\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Im8k\r\na=ice-pwd:6VCqNbFYr0aruYnAro+/6wGt\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E7:47:AB:D0:FA:75:8F:FE:C4:3A:8A:05:39:08:54:BE:AA:E3:D8:98:72:C4:F6:86:53:D6:0B:3F:1B:41:A3:B0\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:e97f0107-4e9d-4869-a3a9-5db239e17d36 bf44ef72-1864-45c9-a595-a13b1f1c6d01\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3204548960 cname:KyHoorEGhtFuJJ6N\r\na=ssrc:3204548960 msid:e97f0107-4e9d-4869-a3a9-5db239e17d36 bf44ef72-1864-45c9-a595-a13b1f1c6d01\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Im8k\r\na=ice-pwd:6VCqNbFYr0aruYnAro+/6wGt\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E7:47:AB:D0:FA:75:8F:FE:C4:3A:8A:05:39:08:54:BE:AA:E3:D8:98:72:C4:F6:86:53:D6:0B:3F:1B:41:A3:B0\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:e97f0107-4e9d-4869-a3a9-5db239e17d36 9aa645eb-411b-4e4e-b44b-1275537d56d5\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 91356092 2293023943\r\na=ssrc:91356092 cname:KyHoorEGhtFuJJ6N\r\na=ssrc:91356092 msid:e97f0107-4e9d-4869-a3a9-5db239e17d36 9aa645eb-411b-4e4e-b44b-1275537d56d5\r\na=ssrc:2293023943 cname:KyHoorEGhtFuJJ6N\r\na=ssrc:2293023943 msid:e97f0107-4e9d-4869-a3a9-5db239e17d36 9aa645eb-411b-4e4e-b44b-1275537d56d5\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:23.737 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2238535641 1 udp 2113937151 192.168.1.205 45809 typ host generation 0 ufrag Im8k network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Im8k'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:23.738 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2238535641 1 udp 2113937151 192.168.1.205 43342 typ host generation 0 ufrag Im8k network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Im8k'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:26.083 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'error', 'message_content': '对方拒绝访问摄像头/麦克风', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:35.633 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4255489366801244619 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 5f2ae673-5cc0-4ecf-9714-20680e48328f\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pOPK\r\na=ice-pwd:ggf5F/0JHqq4B9+723rWRUmQ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B8:54:6C:1B:8B:EE:A2:92:03:25:F3:D5:04:D9:3A:65:18:6F:B0:46:B0:13:30:72:A4:EB:52:AB:37:F2:41:3F\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:5f2ae673-5cc0-4ecf-9714-20680e48328f 6079af66-1943-474a-bd8a-3b718e4843a1\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:4133781886 cname:X9bJEDj6P5PPospE\r\na=ssrc:4133781886 msid:5f2ae673-5cc0-4ecf-9714-20680e48328f 6079af66-1943-474a-bd8a-3b718e4843a1\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pOPK\r\na=ice-pwd:ggf5F/0JHqq4B9+723rWRUmQ\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B8:54:6C:1B:8B:EE:A2:92:03:25:F3:D5:04:D9:3A:65:18:6F:B0:46:B0:13:30:72:A4:EB:52:AB:37:F2:41:3F\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:5f2ae673-5cc0-4ecf-9714-20680e48328f 57ab56da-0e4c-403d-918b-b80476703a51\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 905529417 2735767011\r\na=ssrc:905529417 cname:X9bJEDj6P5PPospE\r\na=ssrc:905529417 msid:5f2ae673-5cc0-4ecf-9714-20680e48328f 57ab56da-0e4c-403d-918b-b80476703a51\r\na=ssrc:2735767011 cname:X9bJEDj6P5PPospE\r\na=ssrc:2735767011 msid:5f2ae673-5cc0-4ecf-9714-20680e48328f 57ab56da-0e4c-403d-918b-b80476703a51\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:35.635 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2672180014 1 udp 2113937151 192.168.1.205 47944 typ host generation 0 ufrag pOPK network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'pOPK'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:35.635 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2672180014 1 udp 2113937151 192.168.1.205 60968 typ host generation 0 ufrag pOPK network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'pOPK'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:35.945 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'error', 'message_content': '对方拒绝访问摄像头/麦克风', 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:43:50.184 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:43:50.186 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:43:50.186 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:43:54.602 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 8393606335857817427 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS efa6555c-8beb-4c3e-afb4-661fc5e8dfb6\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:44zP\r\na=ice-pwd:HpcxhHbI9Ywapp15wJQa2Swq\r\na=ice-options:trickle\r\na=fingerprint:sha-256 59:C9:54:8F:1B:7F:9F:93:94:8D:32:B4:2B:97:C9:6C:FA:99:85:E8:EB:5B:E3:29:F2:DA:F4:5D:CB:70:4C:62\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:efa6555c-8beb-4c3e-afb4-661fc5e8dfb6 07dfc8d3-2330-4196-86c1-c9a5e2f3ab02\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:970168180 cname:8ehig/s+N90TKHI7\r\na=ssrc:970168180 msid:efa6555c-8beb-4c3e-afb4-661fc5e8dfb6 07dfc8d3-2330-4196-86c1-c9a5e2f3ab02\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:44zP\r\na=ice-pwd:HpcxhHbI9Ywapp15wJQa2Swq\r\na=ice-options:trickle\r\na=fingerprint:sha-256 59:C9:54:8F:1B:7F:9F:93:94:8D:32:B4:2B:97:C9:6C:FA:99:85:E8:EB:5B:E3:29:F2:DA:F4:5D:CB:70:4C:62\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:efa6555c-8beb-4c3e-afb4-661fc5e8dfb6 3c8f82ad-0186-489f-8d13-cc3d8e4ecae1\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4201650092 3296809529\r\na=ssrc:4201650092 cname:8ehig/s+N90TKHI7\r\na=ssrc:4201650092 msid:efa6555c-8beb-4c3e-afb4-661fc5e8dfb6 3c8f82ad-0186-489f-8d13-cc3d8e4ecae1\r\na=ssrc:3296809529 cname:8ehig/s+N90TKHI7\r\na=ssrc:3296809529 msid:efa6555c-8beb-4c3e-afb4-661fc5e8dfb6 3c8f82ad-0186-489f-8d13-cc3d8e4ecae1\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:54.602 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:43:54.603 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3537551122 1 udp 2113937151 192.168.1.205 37105 typ host generation 0 ufrag 44zP network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '44zP'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:54.603 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:43:54.604 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3537551122 1 udp 2113937151 192.168.1.205 48889 typ host generation 0 ufrag 44zP network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '44zP'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:54.604 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lanyuping 不在线，已存储离线消息
2025-06-16 17:43:54.607 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:43:57.945 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3039040182709948720 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS c5331070-0d7d-417f-9729-f57b270326c9\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6loz\r\na=ice-pwd:v/fpVe+WUHF4lpsMje7i98uf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A8:B8:DD:BE:D5:0F:BA:87:A2:DA:8C:A7:D0:DE:B9:91:5D:8C:08:F2:37:17:3E:4B:19:6B:07:C4:18:B0:DC:29\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:c5331070-0d7d-417f-9729-f57b270326c9 c1445449-f5a6-472f-8e1f-36f34a85f61b\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:13715978 cname:sQ74EKJaCObNtF+c\r\na=ssrc:13715978 msid:c5331070-0d7d-417f-9729-f57b270326c9 c1445449-f5a6-472f-8e1f-36f34a85f61b\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:6loz\r\na=ice-pwd:v/fpVe+WUHF4lpsMje7i98uf\r\na=ice-options:trickle\r\na=fingerprint:sha-256 A8:B8:DD:BE:D5:0F:BA:87:A2:DA:8C:A7:D0:DE:B9:91:5D:8C:08:F2:37:17:3E:4B:19:6B:07:C4:18:B0:DC:29\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:c5331070-0d7d-417f-9729-f57b270326c9 6a289b41-069b-4d50-9a26-29faa2282fb9\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 156900379 1324938722\r\na=ssrc:156900379 cname:sQ74EKJaCObNtF+c\r\na=ssrc:156900379 msid:c5331070-0d7d-417f-9729-f57b270326c9 6a289b41-069b-4d50-9a26-29faa2282fb9\r\na=ssrc:1324938722 cname:sQ74EKJaCObNtF+c\r\na=ssrc:1324938722 msid:c5331070-0d7d-417f-9729-f57b270326c9 6a289b41-069b-4d50-9a26-29faa2282fb9\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:57.946 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2816184039 1 udp 2113937151 192.168.1.205 36709 typ host generation 0 ufrag 6loz network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': '6loz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:43:57.947 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2816184039 1 udp 2113937151 192.168.1.205 37537 typ host generation 0 ufrag 6loz network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': '6loz'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:44:00.332 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 8891895445585492618 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS e530d2ed-8853-4d74-b26c-c1de4c22c8bd\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:t+3B\r\na=ice-pwd:01ktUu8/KeiaPbVkMvQZacha\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E9:B3:F5:A0:0F:94:B8:1D:37:C6:B3:53:C6:BD:39:A3:F5:E4:D1:42:54:2D:8A:9B:37:AE:B0:A1:0E:CE:5B:28\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:e530d2ed-8853-4d74-b26c-c1de4c22c8bd fc3e2350-24cb-46fa-88c8-9a439d2679c9\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1668635153 cname:ufN5Vy4icha6vdtT\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:t+3B\r\na=ice-pwd:01ktUu8/KeiaPbVkMvQZacha\r\na=ice-options:trickle\r\na=fingerprint:sha-256 E9:B3:F5:A0:0F:94:B8:1D:37:C6:B3:53:C6:BD:39:A3:F5:E4:D1:42:54:2D:8A:9B:37:AE:B0:A1:0E:CE:5B:28\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:e530d2ed-8853-4d74-b26c-c1de4c22c8bd d9c9a2cb-d9b7-4e47-bcc1-f16fbbca3b02\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 1390342502 3567993945\r\na=ssrc:1390342502 cname:ufN5Vy4icha6vdtT\r\na=ssrc:3567993945 cname:ufN5Vy4icha6vdtT\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:44:00.333 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:398048653 1 udp 2122260223 192.168.1.50 62911 typ host generation 0 ufrag t+3B network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 't+3B'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:44:00.501 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3910363417 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag t+3B network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 't+3B'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-16 17:44:06.495 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-16 17:44:09.413 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-16 17:44:09.413 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-16 17:44:09.414 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-16 17:44:14.752 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:44:14.752 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:44:14.752 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 17:48:31.751 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 17:55:31.916 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 17:55:31.918 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 17:55:31.921 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 21:23:12.418 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 21:39:22.897 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 21:39:22.899 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 21:39:22.900 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 21:52:22.263 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 22:08:07.960 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 22:08:07.963 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 22:08:07.964 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 23:41:29.250 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-16 23:53:53.698 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-16 23:53:53.702 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-16 23:53:53.703 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-16 23:54:48.658 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 00:10:40.980 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 00:10:40.983 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 00:10:40.984 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 03:34:50.171 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 03:50:44.493 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 03:50:44.496 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 03:50:44.497 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 03:51:04.238 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 04:07:06.941 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 04:07:06.943 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 04:07:06.944 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 04:23:11.064 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 04:39:33.376 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 04:39:33.379 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 04:39:33.380 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 08:59:44.612 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 10:01:05.125 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 10:01:05.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 10:01:05.134 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 10:01:06.848 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 10:01:18.043 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 10:01:18.044 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 10:01:18.044 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 10:01:19.109 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 10:01:24.784 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 2852257508983739982 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 25d12ab5-214b-4c9f-a071-6923531bf60a\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:NAve\r\na=ice-pwd:9vrtkRuMnqwVhPdCV7EX4b7H\r\na=ice-options:trickle\r\na=fingerprint:sha-256 52:AA:9E:EC:7B:D5:57:74:8F:63:9D:D1:10:05:56:6F:71:6C:8E:56:F0:CD:28:8A:73:81:E5:BE:9B:5C:29:AC\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:25d12ab5-214b-4c9f-a071-6923531bf60a 09bdba7a-15ba-4293-9cf7-54c47acb4fba\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:557619602 cname:6vEyj1uyIDPlpoua\r\na=ssrc:557619602 msid:25d12ab5-214b-4c9f-a071-6923531bf60a 09bdba7a-15ba-4293-9cf7-54c47acb4fba\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:NAve\r\na=ice-pwd:9vrtkRuMnqwVhPdCV7EX4b7H\r\na=ice-options:trickle\r\na=fingerprint:sha-256 52:AA:9E:EC:7B:D5:57:74:8F:63:9D:D1:10:05:56:6F:71:6C:8E:56:F0:CD:28:8A:73:81:E5:BE:9B:5C:29:AC\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:25d12ab5-214b-4c9f-a071-6923531bf60a 6c4dc396-0839-4df4-ad89-2ae8c679f43d\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 753425531 2692774722\r\na=ssrc:753425531 cname:6vEyj1uyIDPlpoua\r\na=ssrc:753425531 msid:25d12ab5-214b-4c9f-a071-6923531bf60a 6c4dc396-0839-4df4-ad89-2ae8c679f43d\r\na=ssrc:2692774722 cname:6vEyj1uyIDPlpoua\r\na=ssrc:2692774722 msid:25d12ab5-214b-4c9f-a071-6923531bf60a 6c4dc396-0839-4df4-ad89-2ae8c679f43d\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:01:24.786 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:01:24.794 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2751420100 1 udp 2122260223 192.168.1.50 51838 typ host generation 0 ufrag NAve network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'NAve'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:01:24.795 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:01:24.798 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2751420100 1 udp 2122260223 192.168.1.50 54951 typ host generation 0 ufrag NAve network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'NAve'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:01:24.798 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:01:24.905 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3710956636 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag NAve network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'NAve'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:01:24.907 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:01:24.910 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3710956636 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag NAve network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'NAve'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:01:24.910 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:19:48.596 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 10:19:48.605 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 10:19:48.605 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 10:19:50.132 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 10:19:51.047 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4650380487159045420 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 1e153bcd-4402-4172-a9ee-8d037585ada1\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Phdy\r\na=ice-pwd:FQy3p0ko2YqOGmtNPWvTc7JH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 98:8E:F9:C2:40:00:95:A4:7C:CC:8B:83:85:40:38:E1:8E:3C:1B:50:58:92:FD:70:5B:99:F5:4D:E1:50:30:6F\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:1e153bcd-4402-4172-a9ee-8d037585ada1 1d0c05c6-c30c-41a4-9be3-7a8fc24e02cb\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3015197224 cname:UDX8yC769pLk1m1d\r\na=ssrc:3015197224 msid:1e153bcd-4402-4172-a9ee-8d037585ada1 1d0c05c6-c30c-41a4-9be3-7a8fc24e02cb\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Phdy\r\na=ice-pwd:FQy3p0ko2YqOGmtNPWvTc7JH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 98:8E:F9:C2:40:00:95:A4:7C:CC:8B:83:85:40:38:E1:8E:3C:1B:50:58:92:FD:70:5B:99:F5:4D:E1:50:30:6F\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:1e153bcd-4402-4172-a9ee-8d037585ada1 83a56717-3d92-4991-9ddc-871f437b8262\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 2270705380 594437386\r\na=ssrc:2270705380 cname:UDX8yC769pLk1m1d\r\na=ssrc:2270705380 msid:1e153bcd-4402-4172-a9ee-8d037585ada1 83a56717-3d92-4991-9ddc-871f437b8262\r\na=ssrc:594437386 cname:UDX8yC769pLk1m1d\r\na=ssrc:594437386 msid:1e153bcd-4402-4172-a9ee-8d037585ada1 83a56717-3d92-4991-9ddc-871f437b8262\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:19:51.048 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:19:51.049 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1915118820 1 udp 2122260223 192.168.1.50 56812 typ host generation 0 ufrag Phdy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Phdy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:19:51.050 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:19:51.052 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1915118820 1 udp 2122260223 192.168.1.50 58024 typ host generation 0 ufrag Phdy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Phdy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:19:51.052 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:19:51.180 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2358030448 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Phdy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Phdy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:19:51.181 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:19:51.183 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2358030448 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Phdy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'Phdy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 10:19:51.183 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 10:25:24.557 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 10:25:24.561 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 10:25:24.562 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 10:25:26.262 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 10:30:47.413 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 10:30:47.416 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 10:30:47.416 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:51:22.881 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:51:29.373 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:51:29.374 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:51:29.379 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:51:29.880 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:51:43.723 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3027216600076386603 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 63c40702-d9e9-44df-8630-b52bba77266b\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JNje\r\na=ice-pwd:rQM8NgRCk/K2e4sOog5ksV4q\r\na=ice-options:trickle\r\na=fingerprint:sha-256 3E:2B:12:2A:25:B3:A2:38:0D:A1:92:75:C3:BE:CE:AB:59:AB:F8:F5:BB:4C:5A:FD:ED:A9:38:FC:12:17:78:35\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:63c40702-d9e9-44df-8630-b52bba77266b 1ac542dd-771e-4f47-a43c-761fcdc17cbb\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3583336409 cname:yiP/1H3PCa4mOKFM\r\na=ssrc:3583336409 msid:63c40702-d9e9-44df-8630-b52bba77266b 1ac542dd-771e-4f47-a43c-761fcdc17cbb\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JNje\r\na=ice-pwd:rQM8NgRCk/K2e4sOog5ksV4q\r\na=ice-options:trickle\r\na=fingerprint:sha-256 3E:2B:12:2A:25:B3:A2:38:0D:A1:92:75:C3:BE:CE:AB:59:AB:F8:F5:BB:4C:5A:FD:ED:A9:38:FC:12:17:78:35\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:63c40702-d9e9-44df-8630-b52bba77266b 91973870-b42a-4997-ab78-56264c952d82\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 3779618020 4023832239\r\na=ssrc:3779618020 cname:yiP/1H3PCa4mOKFM\r\na=ssrc:3779618020 msid:63c40702-d9e9-44df-8630-b52bba77266b 91973870-b42a-4997-ab78-56264c952d82\r\na=ssrc:4023832239 cname:yiP/1H3PCa4mOKFM\r\na=ssrc:4023832239 msid:63c40702-d9e9-44df-8630-b52bba77266b 91973870-b42a-4997-ab78-56264c952d82\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:51:43.725 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:51:43.726 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2943475065 1 udp 2122260223 192.168.1.50 60968 typ host generation 0 ufrag JNje network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'JNje'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:51:43.727 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:51:43.767 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2943475065 1 udp 2122260223 192.168.1.50 56687 typ host generation 0 ufrag JNje network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'JNje'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:51:43.768 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:55:38.766 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:55:50.417 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3658873072600683490 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 0c2b4ab8-1a52-4ba1-9721-09ee85a86734\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:ieRA\r\na=ice-pwd:4XoR9UeDq1C1S4fqMnvtY2Hw\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C8:8E:0A:66:2E:0C:0A:47:EB:53:F7:6A:7B:DE:96:F9:F8:66:9A:94:9B:E7:B9:FB:AA:5C:6E:19:7D:3F:02:96\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:0c2b4ab8-1a52-4ba1-9721-09ee85a86734 96e714d5-da20-464f-90d2-add38b2dfdaa\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:3398797276 cname:8D5M2rh6nxGcJdgB\r\na=ssrc:3398797276 msid:0c2b4ab8-1a52-4ba1-9721-09ee85a86734 96e714d5-da20-464f-90d2-add38b2dfdaa\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:ieRA\r\na=ice-pwd:4XoR9UeDq1C1S4fqMnvtY2Hw\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C8:8E:0A:66:2E:0C:0A:47:EB:53:F7:6A:7B:DE:96:F9:F8:66:9A:94:9B:E7:B9:FB:AA:5C:6E:19:7D:3F:02:96\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:0c2b4ab8-1a52-4ba1-9721-09ee85a86734 b6d6ee18-b82a-48f9-b25a-6f085815a16a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1003052168 3428504692\r\na=ssrc:1003052168 cname:8D5M2rh6nxGcJdgB\r\na=ssrc:1003052168 msid:0c2b4ab8-1a52-4ba1-9721-09ee85a86734 b6d6ee18-b82a-48f9-b25a-6f085815a16a\r\na=ssrc:3428504692 cname:8D5M2rh6nxGcJdgB\r\na=ssrc:3428504692 msid:0c2b4ab8-1a52-4ba1-9721-09ee85a86734 b6d6ee18-b82a-48f9-b25a-6f085815a16a\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:55:50.418 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:55:50.420 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2882441574 1 udp 2122260223 192.168.1.50 56136 typ host generation 0 ufrag ieRA network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'ieRA'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:55:50.420 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:55:50.421 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2882441574 1 udp 2122260223 192.168.1.50 63173 typ host generation 0 ufrag ieRA network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'ieRA'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:55:50.421 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:56:05.081 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:56:05.083 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:56:05.122 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:56:05.762 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:56:05.762 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:56:05.762 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:56:06.152 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:56:06.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lisi 已连接
2025-06-17 11:56:07.630 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:56:12.857 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 1144969605000800892 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 48dae7db-2026-4c8d-9d39-5cb65800d4b3\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:EEPu\r\na=ice-pwd:E+62mGaEp19UIqFk9FQSBSdm\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C1:FD:B1:05:FE:71:F7:74:C7:40:BD:7A:40:96:68:AD:6C:B4:DF:1B:25:11:B5:F2:DC:14:84:58:1B:7D:78:4E\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:48dae7db-2026-4c8d-9d39-5cb65800d4b3 a68b3854-9bb7-42f9-9154-b6e1ab4fbd17\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1340184090 cname:Py5DHxs1JsGuVqTS\r\na=ssrc:1340184090 msid:48dae7db-2026-4c8d-9d39-5cb65800d4b3 a68b3854-9bb7-42f9-9154-b6e1ab4fbd17\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:EEPu\r\na=ice-pwd:E+62mGaEp19UIqFk9FQSBSdm\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C1:FD:B1:05:FE:71:F7:74:C7:40:BD:7A:40:96:68:AD:6C:B4:DF:1B:25:11:B5:F2:DC:14:84:58:1B:7D:78:4E\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:48dae7db-2026-4c8d-9d39-5cb65800d4b3 e3fd3380-0711-40f6-9979-e8f736d30a1d\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 profile-id=1\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 2921945103 3606962272\r\na=ssrc:2921945103 cname:Py5DHxs1JsGuVqTS\r\na=ssrc:2921945103 msid:48dae7db-2026-4c8d-9d39-5cb65800d4b3 e3fd3380-0711-40f6-9979-e8f736d30a1d\r\na=ssrc:3606962272 cname:Py5DHxs1JsGuVqTS\r\na=ssrc:3606962272 msid:48dae7db-2026-4c8d-9d39-5cb65800d4b3 e3fd3380-0711-40f6-9979-e8f736d30a1d\r\n', 'type': 'offer'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-17 11:56:12.866 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2613606168 1 udp 2113937151 192.168.1.205 40513 typ host generation 0 ufrag EEPu network-cost 999', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'EEPu'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-17 11:56:12.867 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2613606168 1 udp 2113937151 192.168.1.205 58323 typ host generation 0 ufrag EEPu network-cost 999', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'EEPu'}, 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-17 11:56:13.568 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-answer', 'message_content': {'sdp': 'v=0\r\no=- 603369548184385225 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS ffef54b2-6ab7-49fb-82d1-8c4a1ee8b8ec\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Bh5T\r\na=ice-pwd:aDr712Gc/VRdr7vRJqUc2VRS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 67:47:05:8C:36:C0:03:3A:15:A2:27:11:68:50:EF:EE:7A:55:30:2C:17:3B:4F:BA:8F:0C:6B:6E:94:8C:1A:60\r\na=setup:active\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:ffef54b2-6ab7-49fb-82d1-8c4a1ee8b8ec d292d2e8-dc19-47d1-b753-1baaa05585f0\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:1004135060 cname:gwgRc4z0y7C63Vav\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 100 101 103 104 107 108 109 114 115 116 39 40 117 118 98 99 112 127 49\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Bh5T\r\na=ice-pwd:aDr712Gc/VRdr7vRJqUc2VRS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 67:47:05:8C:36:C0:03:3A:15:A2:27:11:68:50:EF:EE:7A:55:30:2C:17:3B:4F:BA:8F:0C:6B:6E:94:8C:1A:60\r\na=setup:active\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:ffef54b2-6ab7-49fb-82d1-8c4a1ee8b8ec 4ca65fad-76ba-4a21-9e30-69c970274db5\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:117 H265/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-id=93;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:112 red/90000\r\na=rtpmap:127 rtx/90000\r\na=fmtp:127 apt=112\r\na=rtpmap:49 ulpfec/90000\r\na=ssrc-group:FID 4019259344 755797071\r\na=ssrc:4019259344 cname:gwgRc4z0y7C63Vav\r\na=ssrc:755797071 cname:gwgRc4z0y7C63Vav\r\n', 'type': 'answer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:56:13.570 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:2192422051 1 udp 2122260223 192.168.1.50 53827 typ host generation 0 ufrag Bh5T network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Bh5T'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:56:13.696 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:4234303035 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag Bh5T network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'Bh5T'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:56:26.768 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lisi 的消息: {'type': 'endCall', 'name': 'lisi', 'target_user': 'lanyuping'}
2025-06-17 11:56:31.180 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lisi 已断开
2025-06-17 11:56:31.180 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lisi 已断开连接
2025-06-17 11:56:31.180 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lisi 的心跳任务已停止
2025-06-17 11:57:58.960 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:57:58.962 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:57:58.962 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:57:59.854 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:58:00.357 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:58:00.357 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:58:00.358 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:58:01.215 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:58:03.382 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:58:03.382 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:58:03.383 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:58:08.475 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:58:08.475 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:58:08.476 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:58:10.145 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 11:58:11.029 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 3641809513276774113 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 20042f10-bf47-4adc-972d-c7083135ea82\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:PcRy\r\na=ice-pwd:KXVY2cnVH7YQCPFsSNyBx5yS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 CA:F6:48:74:D8:D3:B1:21:26:95:B0:A4:03:9F:91:3D:50:AB:AB:C4:E3:AD:69:E8:BB:A1:C9:9B:F7:54:8E:09\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:20042f10-bf47-4adc-972d-c7083135ea82 3d871173-3617-43fd-94cf-bb56f967c01a\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:347314867 cname:QPddhAbWSPlwGeLx\r\na=ssrc:347314867 msid:20042f10-bf47-4adc-972d-c7083135ea82 3d871173-3617-43fd-94cf-bb56f967c01a\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:PcRy\r\na=ice-pwd:KXVY2cnVH7YQCPFsSNyBx5yS\r\na=ice-options:trickle\r\na=fingerprint:sha-256 CA:F6:48:74:D8:D3:B1:21:26:95:B0:A4:03:9F:91:3D:50:AB:AB:C4:E3:AD:69:E8:BB:A1:C9:9B:F7:54:8E:09\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:20042f10-bf47-4adc-972d-c7083135ea82 c99fb94c-40ca-4dac-8211-66d850238e86\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 1916595413 3454513769\r\na=ssrc:1916595413 cname:QPddhAbWSPlwGeLx\r\na=ssrc:1916595413 msid:20042f10-bf47-4adc-972d-c7083135ea82 c99fb94c-40ca-4dac-8211-66d850238e86\r\na=ssrc:3454513769 cname:QPddhAbWSPlwGeLx\r\na=ssrc:3454513769 msid:20042f10-bf47-4adc-972d-c7083135ea82 c99fb94c-40ca-4dac-8211-66d850238e86\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:58:11.030 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:58:11.031 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:988417250 1 udp 2122260223 192.168.1.50 60074 typ host generation 0 ufrag PcRy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'PcRy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:58:11.031 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:58:11.032 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:988417250 1 udp 2122260223 192.168.1.50 54138 typ host generation 0 ufrag PcRy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'PcRy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:58:11.032 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:58:11.146 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3292584054 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag PcRy network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'PcRy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:58:11.146 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:58:11.171 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:3292584054 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag PcRy network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'PcRy'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 11:58:11.182 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 11:58:16.112 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 11:58:16.113 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 11:58:16.113 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 11:58:17.852 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 15:18:31.149 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 15:18:31.181 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 15:18:31.181 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 15:18:33.901 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 15:20:48.582 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 15:20:48.586 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 15:20:48.588 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 15:20:49.936 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 15:21:35.811 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'video-offer', 'message_content': {'sdp': 'v=0\r\no=- 4871966069794717581 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS f9306294-efd8-4a09-8ee1-1b7ff303ae79\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 63 9 0 8 13 110 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:lyso\r\na=ice-pwd:MUFWyvdrFv5VV8lbHpFoxqod\r\na=ice-options:trickle\r\na=fingerprint:sha-256 24:70:7A:42:0C:5A:69:5F:97:BA:5D:E5:5F:92:5C:66:28:A7:06:9D:41:DD:C6:7D:C6:E0:63:AC:0E:81:9B:06\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=sendrecv\r\na=msid:f9306294-efd8-4a09-8ee1-1b7ff303ae79 7227c406-4a10-408d-8419-3142ecff9f0c\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:63 red/48000/2\r\na=fmtp:63 111/111\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:2955014068 cname:YYCHMqIddiprysne\r\na=ssrc:2955014068 msid:f9306294-efd8-4a09-8ee1-1b7ff303ae79 7227c406-4a10-408d-8419-3142ecff9f0c\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 103 104 107 108 109 114 115 116 117 118 39 40 45 46 98 99 100 101 119 120 49 50 123 124 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:lyso\r\na=ice-pwd:MUFWyvdrFv5VV8lbHpFoxqod\r\na=ice-options:trickle\r\na=fingerprint:sha-256 24:70:7A:42:0C:5A:69:5F:97:BA:5D:E5:5F:92:5C:66:28:A7:06:9D:41:DD:C6:7D:C6:E0:63:AC:0E:81:9B:06\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendrecv\r\na=msid:f9306294-efd8-4a09-8ee1-1b7ff303ae79 01af69d3-ce35-4131-8bad-b218aa9ce931\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:103 H264/90000\r\na=rtcp-fb:103 goog-remb\r\na=rtcp-fb:103 transport-cc\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\na=fmtp:103 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:104 rtx/90000\r\na=fmtp:104 apt=103\r\na=rtpmap:107 H264/90000\r\na=rtcp-fb:107 goog-remb\r\na=rtcp-fb:107 transport-cc\r\na=rtcp-fb:107 ccm fir\r\na=rtcp-fb:107 nack\r\na=rtcp-fb:107 nack pli\r\na=fmtp:107 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:108 rtx/90000\r\na=fmtp:108 apt=107\r\na=rtpmap:109 H264/90000\r\na=rtcp-fb:109 goog-remb\r\na=rtcp-fb:109 transport-cc\r\na=rtcp-fb:109 ccm fir\r\na=rtcp-fb:109 nack\r\na=rtcp-fb:109 nack pli\r\na=fmtp:109 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:114 rtx/90000\r\na=fmtp:114 apt=109\r\na=rtpmap:115 H264/90000\r\na=rtcp-fb:115 goog-remb\r\na=rtcp-fb:115 transport-cc\r\na=rtcp-fb:115 ccm fir\r\na=rtcp-fb:115 nack\r\na=rtcp-fb:115 nack pli\r\na=fmtp:115 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:116 rtx/90000\r\na=fmtp:116 apt=115\r\na=rtpmap:117 H264/90000\r\na=rtcp-fb:117 goog-remb\r\na=rtcp-fb:117 transport-cc\r\na=rtcp-fb:117 ccm fir\r\na=rtcp-fb:117 nack\r\na=rtcp-fb:117 nack pli\r\na=fmtp:117 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:118 rtx/90000\r\na=fmtp:118 apt=117\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=fmtp:45 level-idx=5;profile=0;tier=0\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:119 H264/90000\r\na=rtcp-fb:119 goog-remb\r\na=rtcp-fb:119 transport-cc\r\na=rtcp-fb:119 ccm fir\r\na=rtcp-fb:119 nack\r\na=rtcp-fb:119 nack pli\r\na=fmtp:119 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f\r\na=rtpmap:120 rtx/90000\r\na=fmtp:120 apt=119\r\na=rtpmap:49 H265/90000\r\na=rtcp-fb:49 goog-remb\r\na=rtcp-fb:49 transport-cc\r\na=rtcp-fb:49 ccm fir\r\na=rtcp-fb:49 nack\r\na=rtcp-fb:49 nack pli\r\na=fmtp:49 level-id=156;profile-id=1;tier-flag=0;tx-mode=SRST\r\na=rtpmap:50 rtx/90000\r\na=fmtp:50 apt=49\r\na=rtpmap:123 red/90000\r\na=rtpmap:124 rtx/90000\r\na=fmtp:124 apt=123\r\na=rtpmap:125 ulpfec/90000\r\na=ssrc-group:FID 4244128741 913591220\r\na=ssrc:4244128741 cname:YYCHMqIddiprysne\r\na=ssrc:4244128741 msid:f9306294-efd8-4a09-8ee1-1b7ff303ae79 01af69d3-ce35-4131-8bad-b218aa9ce931\r\na=ssrc:913591220 cname:YYCHMqIddiprysne\r\na=ssrc:913591220 msid:f9306294-efd8-4a09-8ee1-1b7ff303ae79 01af69d3-ce35-4131-8bad-b218aa9ce931\r\n', 'type': 'offer'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 15:21:35.815 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 15:21:35.817 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:632397446 1 udp 2122260223 192.168.1.50 53000 typ host generation 0 ufrag lyso network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'lyso'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 15:21:35.818 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 15:21:35.818 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:632397446 1 udp 2122260223 192.168.1.50 64164 typ host generation 0 ufrag lyso network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'lyso'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 15:21:35.818 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 15:21:35.922 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1535015966 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag lyso network-id 1 network-cost 10', 'sdpMid': '0', 'sdpMLineIndex': 0, 'usernameFragment': 'lyso'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 15:21:35.922 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 15:21:35.933 | DEBUG    | myapp.routers.webSocket:websocket_endpoint:47 - 收到来自 lanyuping 的消息: {'type': 'ice-candidate', 'message_content': {'candidate': 'candidate:1535015966 1 tcp 1518280447 192.168.1.50 9 typ host tcptype active generation 0 ufrag lyso network-id 1 network-cost 10', 'sdpMid': '1', 'sdpMLineIndex': 1, 'usernameFragment': 'lyso'}, 'name': 'lanyuping', 'target_user': 'lisi'}
2025-06-17 15:21:35.935 | WARNING  | myapp.routers.connection_manager:send_message:71 - 用户 lisi 不在线，已存储离线消息
2025-06-17 15:25:47.245 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 15:25:47.253 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 15:25:47.255 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 15:25:48.630 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 15:25:50.175 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 15:25:50.175 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 15:25:50.176 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 15:25:51.771 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 17:04:29.708 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:04:29.713 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 17:04:29.713 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:04:36.303 | INFO     | myapp.routers.webSocket:websocket_endpoint:25 - 用户 lanyuping 已连接
2025-06-17 17:22:12.004 | INFO     | myapp.routers.webSocket:websocket_endpoint:96 - Message received: 阿斯顿发撒地方
2025-06-17 17:26:17.794 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:26:17.802 | INFO     | myapp.routers.webSocket:websocket_endpoint:72 - 用户 lanyuping 已断开连接
2025-06-17 17:26:17.802 | INFO     | myapp.routers.webSocket:websocket_endpoint:79 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:26:40.235 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:27:01.890 | INFO     | myapp.routers.webSocket:websocket_endpoint:98 - Message received: sadfsdf
2025-06-17 17:27:11.100 | INFO     | myapp.routers.webSocket:websocket_endpoint:98 - Message received: sfdsdf
2025-06-17 17:27:52.690 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:27:52.691 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:27:52.692 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:27:59.332 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:28:05.199 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:28:05.199 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:28:05.200 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:28:12.274 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:31:03.291 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:31:03.292 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:31:03.293 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:31:10.928 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:31:45.425 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:31:45.425 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:31:45.425 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:31:52.307 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:33:50.039 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:33:50.043 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:33:50.043 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:33:56.224 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:35:00.772 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:35:00.773 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:35:00.774 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:35:07.493 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:35:43.865 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:35:43.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:35:43.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:35:50.335 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:36:08.621 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:36:08.622 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:36:08.623 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:38:07.865 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:38:07.873 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:38:07.873 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:38:07.873 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:38:07.883 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:38:48.337 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:38:48.338 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:38:48.338 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:38:55.742 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:39:10.352 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:40:30.635 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:41:23.469 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:41:56.654 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:42:39.801 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:43:20.594 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:43:23.485 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:44:29.830 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:46:35.161 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:48:21.909 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:52:23.507 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:52:23.510 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:52:23.511 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:55:12.396 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:55:12.399 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:55:12.399 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:55:12.399 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:55:12.400 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
2025-06-17 17:55:59.049 | INFO     | myapp.routers.httpStream:sse:58 - JSON Data:
2025-06-17 17:56:46.319 | INFO     | myapp.routers.connection_manager:disconnect:39 - 用户 lanyuping 已断开
2025-06-17 17:56:46.319 | INFO     | myapp.routers.webSocket:websocket_endpoint:74 - 用户 lanyuping 已断开连接
2025-06-17 17:56:46.320 | INFO     | myapp.routers.webSocket:websocket_endpoint:81 - 用户 lanyuping 的心跳任务已停止
2025-06-17 17:56:53.456 | INFO     | myapp.routers.webSocket:websocket_endpoint:27 - 用户 lanyuping 已连接
